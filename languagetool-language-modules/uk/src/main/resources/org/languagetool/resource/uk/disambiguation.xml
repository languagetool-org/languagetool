<?xml version="1.0" encoding="utf-8"?>
<!--
    Ukrainian Disambiguation Rules for LanguageTool (www.languagetool.org)
    Copyright (C) 2013 Andriy Rysin
-->
<rules lang="uk"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:noNamespaceSchemaLocation="../../../../../../../../../languagetool-core/src/main/resources/org/languagetool/resource/disambiguation.xsd">

  <unification feature="gender">
    <equivalence type="f">
      <token postag="(noun|adj|numr).*?:f:.*|noun:anim:s:v_...:&amp;pron:pers:[21]" postag_regexp="yes" />
    </equivalence>
    <equivalence type="m">
      <token postag="(noun|adj|numr).*?:m:.*|noun:anim:s:v_...:&amp;pron:pers:[21]" postag_regexp="yes" />
    </equivalence>
    <equivalence type="n">
      <token postag="(noun|adj|numr).*?:n:.*" postag_regexp="yes" />
    </equivalence>
    <equivalence type="pl">
      <token postag="(noun|adj|numr).*?:p:.*" postag_regexp="yes" />
    </equivalence>
  </unification>

  <unification feature="case">
    <equivalence type="v_naz">
      <token postag="(noun|adj|numr).*?:v_naz.*" postag_regexp="yes"/>
    </equivalence>
    <equivalence type="v_rod">
      <token postag="(noun|adj|numr).*?:v_rod.*" postag_regexp="yes"/>
    </equivalence>
    <equivalence type="v_dav">
      <token postag="(noun|adj|numr).*?:v_dav.*" postag_regexp="yes"/>
    </equivalence>
    <equivalence type="v_zna_ranim">
      <token postag="noun:anim:.:v_zna.*|noun:.:v_zna:&amp;pron:pers:3.*|adj.*?:[^mp]:v_zna.*|adj.*?:[mp]:v_zna:ranim.*|numr:.:v_zna.*" postag_regexp="yes"/>
    </equivalence>
    <equivalence type="v_zna_rinanim">
      <token postag="noun:inanim:.:v_zna.*|noun:.:v_zna:&amp;pron:pers:3.*|adj.*?:[^mp]:v_zna.*|adj.*?:[mp]:v_zna:rinanim.*|numr:.:v_zna.*" postag_regexp="yes"/>
    </equivalence>
    <equivalence type="v_oru">
      <token postag="(noun|adj|numr).*?:v_oru.*" postag_regexp="yes"/>
    </equivalence>
    <equivalence type="v_mis">
      <token postag="(noun|adj|numr).*?:v_mis.*" postag_regexp="yes"/>
    </equivalence>
    <equivalence type="v_kly">
      <token postag="(noun|adj|numr).*?:v_kly.*" postag_regexp="yes"/>
    </equivalence>
  </unification>


  <rule name="Паралельні погані форми" id="parallel_bad_forms">
    <pattern>
      <marker>
        <token postag_regexp="yes" postag="adj.*" regexp="yes">.*(воротн|заробітн|двірн|природн|дорожн)(і[йхм]?)</token>
      </marker>
    </pattern>
    <disambig action="remove" postag="adj.*?:bad.*" />
    <example type="ambiguous"
        inputform="природній[природний/adj:f:v_dav:compb,природний/adj:f:v_mis:compb,природній/adj:f:v_dav:bad,природній/adj:f:v_mis:bad,природній/adj:m:v_kly:bad,природній/adj:m:v_naz:bad,природній/adj:m:v_zna:rinanim:bad]"
        outputform="природній[природний/adj:f:v_dav:compb,природний/adj:f:v_mis:compb]"><marker>природній</marker> силі.</example>
    <example type="ambiguous"
        inputform="дорожній[дорожний/adj:f:v_dav:bad,дорожний/adj:f:v_mis:bad,дорожній/adj:f:v_dav,дорожній/adj:f:v_mis,дорожній/adj:m:v_kly,дорожній/adj:m:v_naz,дорожній/adj:m:v_zna:rinanim]"
        outputform="дорожній[дорожній/adj:f:v_dav,дорожній/adj:f:v_mis,дорожній/adj:m:v_kly,дорожній/adj:m:v_naz,дорожній/adj:m:v_zna:rinanim]">на <marker>дорожній</marker> розмітці.</example>
    <example type="untouched">природня</example>
    <example type="untouched">дорожному</example>
  </rule>


  <rule name="Коли" id="koly_not_verb">
    <pattern>
      <marker>
        <token>коли
          <exception scope="next">!</exception>
        </token>
      </marker>
    </pattern>
    <disambig action="remove" postag="verb:imperf:impr:s:2"/>
    <example type="ambiguous"
        inputform="коли[кола/noun:inanim:f:v_rod,кола/noun:inanim:p:v_naz,кола/noun:inanim:p:v_zna,коли/adv:&amp;pron:int:rel,коли/conj:subord,коли/part,колоти/verb:imperf:impr:s:2,кіл/noun:inanim:p:v_naz,кіл/noun:inanim:p:v_zna]"
        outputform="коли[кола/noun:inanim:f:v_rod,кола/noun:inanim:p:v_naz,кола/noun:inanim:p:v_zna,коли/adv:&amp;pron:int:rel,коли/conj:subord,коли/part,кіл/noun:inanim:p:v_naz,кіл/noun:inanim:p:v_zna]"
        >і <marker>коли</marker> те буде</example>
    <example type="untouched">Рви, ріж, коли!</example>
  </rule>


  <rule name="Вживу" id="vzhyvy_adv_1">
    <pattern>
      <token regexp="yes">["«“„]</token>
      <marker>
        <token>вживу</token>
      </marker>
      <token regexp="yes">["»“”]</token>
    </pattern>
    <disambig action="filter" postag="adv:bad"/>
    <example type="ambiguous"
        inputform="вживу[вживу/adv:bad,вжити/verb:perf:futr:s:1]"
        outputform="вживу[вживу/adv:bad]"
        >побачили «<marker>вживу</marker>»</example>
    <example type="untouched">я вживу заходів</example>
  </rule>

  <rule name="Вживу" id="vzhyvy_verb">
    <pattern>
      <marker>
        <token postag="verb:perf:futr:s:1">вживу</token>
      </marker>
      <token postag_regexp="yes" postag="(adj|numr):.:v_rod.*" min="0"/>
      <token inflected="yes" postag_regexp="yes" postag="noun:inanim:.:v_(zna|rod).*" regexp="yes">захід|термін|слово|зусилля|порівняння|означення|приказку|вислів|авторитет</token>
    </pattern>
    <disambig action="filter" postag="verb:perf:futr:s:1"/>
    <example type="ambiguous"
        inputform="вживу[вживу/adv:bad,вжити/verb:perf:futr:s:1]"
        outputform="вживу[вжити/verb:perf:futr:s:1]"
        >я <marker>вживу</marker> таких заходів</example>
    <example type="untouched">я вживу його не бачив</example>
  </rule>

  <rule name="Вживу" id="vzhyvy_adv_2">
    <pattern>
      <marker>
        <token postag="adv:bad">вживу</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="adv:bad"/>
    <example type="ambiguous"
        inputform="вживу[вживу/adv:bad,вжити/verb:perf:futr:s:1]"
        outputform="вживу[вживу/adv:bad]"
        >побачили <marker>вживу</marker>.</example>
  </rule>


  <rule name="Це - noun 1" id="ce_noun_1">
    <pattern>
      <token regexp="yes">[—–-]</token>
      <marker>
        <token case_sensitive="yes">це</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun:inanim:n:v_naz.*"/>
    <example type="ambiguous"
        inputform="це[це/noun:inanim:n:v_naz:&amp;pron:dem,це/noun:inanim:n:v_zna:&amp;pron:dem,це/part,цей/adj:n:v_naz:&amp;pron:dem,цей/adj:n:v_zna:&amp;pron:dem]"
        outputform="це[це/noun:inanim:n:v_naz:&amp;pron:dem]">Фестиваль — <marker>це</marker> свято.</example>
    <example type="untouched">а це сталося не вчора</example>
    <example type="untouched">— Це врятовано Юліаном</example>
  </rule>


  <rule name="Тим - сполучник 1" id="tym_conj_1">
    <pattern>
      <marker>
        <token>тим</token>
      </marker>
      <token postag_regexp="yes" postag="adv:compc.*"/>
    </pattern>
    <disambig action="filter" postag="conj:subord"/>
    <example type="ambiguous"
        inputform="тим[те/noun:inanim:n:v_oru:&amp;pron:dem,тим/conj:subord,той/adj:m:v_oru:&amp;pron:dem,той/adj:n:v_oru:&amp;pron:dem,той/adj:p:v_dav:&amp;pron:dem]"
        outputform="тим[тим/conj:subord]">І <marker>тим</marker> більше.</example>
    <example type="untouched">тим вечором</example>
  </rule>

  <rule name="Тим - іменник с.р. 1" id="tym_noun_n_1">
    <pattern>
      <token>разом</token>
      <token regexp="yes">і?з</token>
      <marker>
        <token>тим</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun:inanim:n:v_oru.*"/>
    <example type="ambiguous"
        inputform="тим[те/noun:inanim:n:v_oru:&amp;pron:dem,тим/conj:subord,той/adj:m:v_oru:&amp;pron:dem,той/adj:n:v_oru:&amp;pron:dem,той/adj:p:v_dav:&amp;pron:dem]"
        outputform="тим[те/noun:inanim:n:v_oru:&amp;pron:dem]">Разом з <marker>тим</marker> університетам цього не дозволяють.</example>
    <example type="untouched">тим вечором</example>
  </rule>

  <rule name="Тим - прикметник ч.р. 1" id="tym_adj_m_1">
    <pattern>
      <marker>
        <token>тим</token>
      </marker>
      <token postag_regexp="yes" postag="noun:inanim:m:v_oru.*">
      <!--
        <exception negate_pos="yes" postag_regexp="yes" postag="noun:inanim:m:v_oru.*"/>
      -->
        <exception postag_regexp="yes" postag="noun:inanim:(n:v_oru|p:v_dav|.:v_...:nv).*"/>
      </token>
    </pattern>
    <disambig action="filter" postag="adj:m:v_oru.*"/>
    <example type="ambiguous"
        inputform="тим[те/noun:inanim:n:v_oru:&amp;pron:dem,тим/conj:subord,той/adj:m:v_oru:&amp;pron:dem,той/adj:n:v_oru:&amp;pron:dem,той/adj:p:v_dav:&amp;pron:dem]"
        outputform="тим[той/adj:m:v_oru:&amp;pron:dem]">А <marker>тим</marker> часом.</example>
    <example type="untouched">тим більше</example>
    <example type="untouched">тим сонцем</example>
    <example type="untouched">завдяки тим зусиллям</example>
  </rule>

  <rule name="Тим - прикметник с.р. 1" id="tym_adj_n_1">
    <pattern>
      <marker>
        <token>тим</token>
      </marker>
      <token postag_regexp="yes" postag="noun:inanim:n:v_oru.*">
      <!--
        <exception negate_pos="yes" postag_regexp="yes" postag="noun:inanim:m:v_oru.*"/>
      -->
        <exception postag_regexp="yes" postag="noun:inanim:(m:v_oru|p:v_dav|.:v_...:nv).*"/>
      </token>
    </pattern>
    <disambig action="filter" postag="adj:n:v_oru.*"/>
    <example type="ambiguous"
        inputform="тим[те/noun:inanim:n:v_oru:&amp;pron:dem,тим/conj:subord,той/adj:m:v_oru:&amp;pron:dem,той/adj:n:v_oru:&amp;pron:dem,той/adj:p:v_dav:&amp;pron:dem]"
        outputform="тим[той/adj:n:v_oru:&amp;pron:dem]">А <marker>тим</marker> сонцем.</example>
    <example type="untouched">тим більше</example>
    <example type="untouched">тим часом</example>
    <example type="untouched">завдяки тим зусиллям</example>
  </rule>

  <rule name="Тим - прикметник мн. 1" id="tym_adj_p_1">
    <pattern>
      <marker>
        <token>тим</token>
      </marker>
      <token postag_regexp="yes" postag="noun:inanim:p:v_dav.*">
        <exception postag_regexp="yes" postag="noun:inanim:(m:v_oru|n:v_oru|.:v_...:nv).*"/>
      </token>
    </pattern>
    <disambig action="filter" postag="adj:p:v_dav.*"/>
    <example type="ambiguous"
        inputform="тим[те/noun:inanim:n:v_oru:&amp;pron:dem,тим/conj:subord,той/adj:m:v_oru:&amp;pron:dem,той/adj:n:v_oru:&amp;pron:dem,той/adj:p:v_dav:&amp;pron:dem]"
        outputform="тим[той/adj:p:v_dav:&amp;pron:dem]">всім <marker>тим</marker> кредитам.</example>
    <example type="untouched">тим більше</example>
    <example type="untouched">тим часом</example>
    <example type="untouched">тим сонцем</example>
    <example type="untouched">тим паніні</example>
  </rule>

  <rule name="Тим - іменник с.р. 3" id="tym_noun_n_3">
    <pattern>
      <token regexp="yes">з|із|перед|над|між|за|поміж|під|межи|понад</token>
      <marker>
        <token>тим</token>
      </marker>
      <token regexp="yes">[,.]</token>
    </pattern>
    <disambig action="filter" postag="noun:inanim:n:v_oru.*"/>
    <example type="ambiguous"
        inputform="тим[те/noun:inanim:n:v_oru:&amp;pron:dem,тим/conj:subord,той/adj:m:v_oru:&amp;pron:dem,той/adj:n:v_oru:&amp;pron:dem,той/adj:p:v_dav:&amp;pron:dem]"
        outputform="тим[те/noun:inanim:n:v_oru:&amp;pron:dem]">рахувався з <marker>тим</marker>, що його не візьмуть.</example>
    <example type="untouched">тим більше</example>
    <example type="untouched">тим часом</example>
  </rule>


  <rule name="Проти - прислівник" id="proty_adv_1">
    <pattern>
      <marker>
        <token>проти</token>
      </marker>
      <token regexp="yes">[,.!?…:;—–-]
        <exception scope="next" postag_regexp="yes" postag=".*?insert.*"/>
      </token>
    </pattern>
    <disambig action="filter" postag="adv:&amp;predic"/>
    <example type="ambiguous"
        inputform="проти[проти/adv:&amp;predic,проти/prep]"
        outputform="проти[проти/adv:&amp;predic]">ви будете не <marker>проти</marker>, що його не візьмуть.</example>
    <example type="untouched">проти сонця</example>
    <example type="untouched">проти, наприклад, шахтарів</example>
  </rule>

  <rule name="Проти - прислівник 2" id="proty_adv_2">
    <pattern>
      <marker>
        <token>проти</token>
      </marker>
      <token postag_regexp="yes" postag="verb.*?:inf.*">
        <exception postag_regexp="yes" postag="(noun|adj).*?v_rod.*"/>
      </token>
    </pattern>
    <disambig action="filter" postag="adv.*"/>
    <example type="ambiguous"
        inputform="проти[проти/adv:&amp;predic,проти/prep]"
        outputform="проти[проти/adv:&amp;predic]">чи він не <marker>проти</marker> попрацювати?</example>
    <example type="untouched">але проти сонця</example>
  </rule>

  <rule name="Проти - прислівник 2" id="proty_adv_3">
    <pattern>
      <token inflected="yes" regexp="yes">не|чи|висловлюватися|виступати|бути|.*?голосувати</token>
      <marker>
        <token>проти</token>
      </marker>
      <token postag_regexp="yes" postag="(noun|adj).*?v_naz.*">
        <exception postag_regexp="yes" postag="(noun|adj).*?v_rod.*"/>
      </token>
    </pattern>
    <disambig action="filter" postag="adv.*"/>
    <example type="ambiguous"
        inputform="проти[проти/adv:&amp;predic,проти/prep]"
        outputform="проти[проти/adv:&amp;predic]">чи не <marker>проти</marker> я попрацювати.</example>
    <example type="ambiguous"
        inputform="проти[проти/adv:&amp;predic,проти/prep]"
        outputform="проти[проти/adv:&amp;predic]">чи <marker>проти</marker> Кримський кабмін?</example>
    <example type="ambiguous"
        inputform="проти[проти/adv:&amp;predic,проти/prep]"
        outputform="проти[проти/adv:&amp;predic]">були <marker>проти</marker> ті, хто працював</example>
    <example type="untouched">але проти сонця</example>
    <example type="untouched">і проти солдат.</example>
    <example type="untouched">і проти воли виборців</example>
  </rule>

  <rule name="Проти - прийменник" id="proty_prep">
    <pattern>
      <marker>
        <token postag="prep">проти
          <exception scope="previous" regexp="yes">не|але|чи</exception>
        </token>
      </marker>
      <token postag_regexp="yes" postag="(noun|adj).*">
        <exception postag_regexp="yes" postag="verb:.*?inf.*"/>
        <exception>та</exception>
      </token>
    </pattern>
    <disambig action="filter" postag="prep"/>
    <example type="ambiguous"
        inputform="проти[проти/adv:&amp;predic,проти/prep]"
        outputform="проти[проти/prep]">стояти <marker>проти</marker> сонця.</example>
    <example type="untouched">не будете проти,</example>
    <example type="untouched">не будете проти піти</example>
    <example type="untouched">чи не проти я</example>
    <example type="untouched">але проти Кримський кабмін</example>
    <example type="untouched">проголосували проти та одна утрималася</example>
  </rule>

  <rule name="Раза з дробовими числівниками" id="RAZA_WITH_FRACTIONS">
    <pattern>
      <token regexp="yes">[0-9]+,[1-9]+|півтора</token>
      <marker>
        <token>раза</token>
      </marker>
    </pattern>
    <disambig action="add"><wd lemma="раз" pos="noun:inanim:m:v_rod"/></disambig>
    <example type="ambiguous"
        inputform="раза[раза]"
        outputform="раза[раз/noun:inanim:m:v_rod]">Аж в півтора <marker>раза</marker>.</example>
    <example type="ambiguous"
        inputform="раза[раза]"
        outputform="раза[раз/noun:inanim:m:v_rod]">Аж в 1,2 <marker>раза</marker>.</example>
    <example type="untouched">От така за раза.</example>
  </rule>

  <rule name="Короткого метру" id="KOROTKOGO_METRU">
    <pattern>
      <token regexp="yes">короткого|повного</token>
      <marker>
        <token>метру</token>
      </marker>
    </pattern>
    <disambig><wd lemma="метр" pos="noun:inanim:m:v_rod:xp1"/></disambig>
    <example type="ambiguous"
        inputform="метру[метр/noun:anim:m:v_dav:xp1,метр/noun:anim:m:v_mis:xp1,метр/noun:inanim:m:v_dav:xp2,метр/noun:inanim:m:v_mis:xp2]"
        outputform="метру[метр/noun:inanim:m:v_rod:xp1]">Фестиваль короткого <marker>метру</marker>.</example>
    <example type="untouched">На тому метру.</example>
  </rule>
<!--
  <rule name="Тому - сполучник" id="tomu_conj">
    <pattern>
      <marker>
        <token>тому</token>
      </marker>
      <token min="0">,</token>
      <token>що</token>
    </pattern>
    <disambig action="filter" postag="conj.*"/>
    <example type="ambiguous"
        inputform="тому[те/noun:inanim:n:v_dav:&amp;pron:dem,те/noun:inanim:n:v_mis:&amp;pron:dem,той/adj:m:v_dav:&amp;pron:dem,той/adj:m:v_mis:&amp;pron:dem,той/adj:n:v_dav:&amp;pron:dem,той/adj:n:v_mis:&amp;pron:dem,том/noun:inanim:m:v_dav,том/noun:inanim:m:v_mis,том/noun:inanim:m:v_rod,тому/adv,тому/conj:subord]"
        outputform="тому[тому/conj:subord]">Це сталося <marker>тому</marker>, що.</example>
    <example type="untouched">І тому і цьому.</example>
    <example type="untouched">Дякуючи тому, що ...</example>
  </rule>
-->
  <rule name="Тому - не сполучник 1" id="tomu_non_conj_1">
    <pattern>
      <marker>
        <token>тому</token>
      </marker>
      <token><exception>,</exception></token>
    </pattern>
    <disambig action="remove" postag="conj:subord"/>
    <example type="ambiguous"
        inputform="тому[те/noun:inanim:n:v_dav:&amp;pron:dem,те/noun:inanim:n:v_mis:&amp;pron:dem,той/adj:m:v_dav:&amp;pron:dem,той/adj:m:v_mis:&amp;pron:dem,той/adj:n:v_dav:&amp;pron:dem,той/adj:n:v_mis:&amp;pron:dem,том/noun:inanim:m:v_dav,том/noun:inanim:m:v_mis,том/noun:inanim:m:v_rod,тому/adv,тому/conj:subord]"
        outputform="тому[те/noun:inanim:n:v_dav:&amp;pron:dem,те/noun:inanim:n:v_mis:&amp;pron:dem,той/adj:m:v_dav:&amp;pron:dem,той/adj:m:v_mis:&amp;pron:dem,той/adj:n:v_dav:&amp;pron:dem,той/adj:n:v_mis:&amp;pron:dem,том/noun:inanim:m:v_dav,том/noun:inanim:m:v_mis,том/noun:inanim:m:v_rod,тому/adv]"
        >дали <marker>тому</marker> хлопцю</example>
    <example type="untouched">І тому, що.</example>
  </rule>

  <rule name="Тому - не сполучник 2" id="tomu_non_conj_2">
    <pattern>
      <marker>
        <token>тому</token>
      </marker>
      <token>,</token>
      <token><exception>що</exception></token>
    </pattern>
    <disambig action="remove" postag="conj:subord"/>
    <example type="ambiguous"
        inputform="тому[те/noun:inanim:n:v_dav:&amp;pron:dem,те/noun:inanim:n:v_mis:&amp;pron:dem,той/adj:m:v_dav:&amp;pron:dem,той/adj:m:v_mis:&amp;pron:dem,той/adj:n:v_dav:&amp;pron:dem,той/adj:n:v_mis:&amp;pron:dem,том/noun:inanim:m:v_dav,том/noun:inanim:m:v_mis,том/noun:inanim:m:v_rod,тому/adv,тому/conj:subord]"
        outputform="тому[те/noun:inanim:n:v_dav:&amp;pron:dem,те/noun:inanim:n:v_mis:&amp;pron:dem,той/adj:m:v_dav:&amp;pron:dem,той/adj:m:v_mis:&amp;pron:dem,той/adj:n:v_dav:&amp;pron:dem,той/adj:n:v_mis:&amp;pron:dem,том/noun:inanim:m:v_dav,том/noun:inanim:m:v_mis,том/noun:inanim:m:v_rod,тому/adv]"
        >відбулося саме <marker>тому</marker>, і </example>
    <example type="untouched">І тому, що.</example>
  </rule>

  <rule name="Тому: не іменник «том»" id="tomu_not_noun_tom">
    <pattern>
      <marker>
        <token>тому
          <exception scope="previous" postag_regexp="yes" postag="adj:m:v_rod.*"/>
          <exception scope="previous" regexp="yes">[XVIХІ]+</exception>
        </token>
      </marker>
    </pattern>
    <disambig action="remove" postag="noun:inanim:m:v_(rod|dav|mis)"/>
    <example type="ambiguous"
        inputform="тому[те/noun:inanim:n:v_dav:&amp;pron:dem,те/noun:inanim:n:v_mis:&amp;pron:dem,той/adj:m:v_dav:&amp;pron:dem,той/adj:m:v_mis:&amp;pron:dem,той/adj:n:v_dav:&amp;pron:dem,той/adj:n:v_mis:&amp;pron:dem,том/noun:inanim:m:v_dav,том/noun:inanim:m:v_mis,том/noun:inanim:m:v_rod,тому/adv]"
        outputform="тому[те/noun:inanim:n:v_dav:&amp;pron:dem,те/noun:inanim:n:v_mis:&amp;pron:dem,той/adj:m:v_dav:&amp;pron:dem,той/adj:m:v_mis:&amp;pron:dem,той/adj:n:v_dav:&amp;pron:dem,той/adj:n:v_mis:&amp;pron:dem,тому/adv]"
            >даю волю всьому <marker>тому</marker> злу</example>
    <example type="ambiguous"
        inputform="Тому[Том/noun:anim:m:v_dav:prop:fname,Том/noun:anim:m:v_mis:prop:fname,Тома/noun:anim:m:v_zna:prop:fname,те/noun:inanim:n:v_dav:&amp;pron:dem,те/noun:inanim:n:v_mis:&amp;pron:dem,той/adj:m:v_dav:&amp;pron:dem,той/adj:m:v_mis:&amp;pron:dem,той/adj:n:v_dav:&amp;pron:dem,той/adj:n:v_mis:&amp;pron:dem,том/noun:inanim:m:v_dav,том/noun:inanim:m:v_mis,том/noun:inanim:m:v_rod,тому/adv]"
        outputform="Тому[Том/noun:anim:m:v_dav:prop:fname,Том/noun:anim:m:v_mis:prop:fname,Тома/noun:anim:m:v_zna:prop:fname,те/noun:inanim:n:v_dav:&amp;pron:dem,те/noun:inanim:n:v_mis:&amp;pron:dem,той/adj:m:v_dav:&amp;pron:dem,той/adj:m:v_mis:&amp;pron:dem,той/adj:n:v_dav:&amp;pron:dem,той/adj:n:v_mis:&amp;pron:dem,тому/adv]"
            ><marker>Тому</marker> це не відбулося</example>
            <!-- років 5 тому, -->
    <example type="untouched">частину четвертого тому,</example>
    <example type="untouched">від останнього тому.</example>
    <example type="untouched">З нагоди появи IX тому «Історії України-Руси»</example>
    <!-- зустрічається не часто, правильно: 4-го тому
    <example type="untouched">приміток до 4 тому</example>
    -->
  </rule>

  <rule name="Тому: не іменник «те»" id="tomu_not_noun_te">
    <pattern>
      <token postag_regexp="yes" postag="num.*"/>
      <marker>
        <token>тому</token>
      </marker>
    </pattern>
    <disambig action="remove" postag="noun:inanim:n:v_...:&amp;pron.*"/>
    <example type="ambiguous"
        inputform="тому[те/noun:inanim:n:v_dav:&amp;pron:dem,те/noun:inanim:n:v_mis:&amp;pron:dem,той/adj:m:v_dav:&amp;pron:dem,той/adj:m:v_mis:&amp;pron:dem,той/adj:n:v_dav:&amp;pron:dem,той/adj:n:v_mis:&amp;pron:dem,тому/adv]"
        outputform="тому[той/adj:m:v_dav:&amp;pron:dem,той/adj:m:v_mis:&amp;pron:dem,той/adj:n:v_dav:&amp;pron:dem,той/adj:n:v_mis:&amp;pron:dem,тому/adv]"
            >роки півтора <marker>тому</marker>.</example>
    <example type="ambiguous"
        inputform="тому[те/noun:inanim:n:v_dav:&amp;pron:dem,те/noun:inanim:n:v_mis:&amp;pron:dem,той/adj:m:v_dav:&amp;pron:dem,той/adj:m:v_mis:&amp;pron:dem,той/adj:n:v_dav:&amp;pron:dem,той/adj:n:v_mis:&amp;pron:dem,тому/adv]"
        outputform="тому[той/adj:m:v_dav:&amp;pron:dem,той/adj:m:v_mis:&amp;pron:dem,той/adj:n:v_dav:&amp;pron:dem,той/adj:n:v_mis:&amp;pron:dem,тому/adv]"
            >тижні 3 <marker>тому</marker>.</example>
    <example type="untouched">і при тому, не залежав від них</example>
  </rule>

  <rule name="Шлем/шолом 1" id="shlem_sholom_1">
    <pattern>
      <token case_sensitive="yes" regexp="yes">Велик.*|Мал.*|Гранд|[«"“„]</token>
      <marker>
        <token inflected="yes" postag_regexp="yes" postag="noun.*:bad.*">шлем</token>
      </marker>
    </pattern>
    <disambig action="remove" postag="noun.*?:bad.*"/>
    <example type="ambiguous"
        inputform="шлему[шлем/noun:inanim:m:v_dav:bad:xp2,шлем/noun:inanim:m:v_dav:xp1,шлем/noun:inanim:m:v_mis:bad:xp2,шлем/noun:inanim:m:v_mis:xp1,шлем/noun:inanim:m:v_rod:xp1]"
        outputform="шлему[шлем/noun:inanim:m:v_dav:xp1,шлем/noun:inanim:m:v_mis:xp1,шлем/noun:inanim:m:v_rod:xp1]">серія Великого <marker>шлему</marker>.</example>
    <example type="untouched">такого великого шолома.</example>
  </rule>

  <rule name="Шлем/шолом 2" id="shlem_sholom_2">
    <pattern>
    <!--
      <token negate="yes" case_sensitive="yes" regexp="yes">Велик.*|Мал.*|Гранд|[«"„]</token>
    -->
      <marker>
        <token inflected="yes" postag_regexp="yes" postag="noun.*?:bad.*">шлем</token>
      </marker>
    </pattern>
    <disambig action="remove" postag="noun.*?:xp1.*"/>
    <example type="ambiguous"
        inputform="шлему[шлем/noun:inanim:m:v_dav:bad:xp2,шлем/noun:inanim:m:v_dav:xp1,шлем/noun:inanim:m:v_mis:bad:xp2,шлем/noun:inanim:m:v_mis:xp1,шлем/noun:inanim:m:v_rod:xp1]"
        outputform="шлему[шлем/noun:inanim:m:v_dav:bad:xp2,шлем/noun:inanim:m:v_mis:bad:xp2]">такому великому <marker>шлему</marker>.</example>
    <example type="untouched">серія Великого шолому.</example>
  </rule>

  <rule name="Великого шолому" id="velykogo_sholomu">
    <pattern>
      <token case_sensitive="yes">Великого</token>
      <marker>
        <token>шолому</token>
      </marker>
    </pattern>
    <disambig><wd lemma="шолом" pos="noun:inanim:m:v_rod"/></disambig>
    <example type="ambiguous"
        inputform="шолому[шолом/noun:inanim:m:v_dav,шолом/noun:inanim:m:v_mis]"
        outputform="шолому[шолом/noun:inanim:m:v_rod]">серія Великого <marker>шолому</marker>.</example>
    <example type="untouched">такого великого шолома.</example>
  </rule>

  <rule name="Ловити вітра" id="LOVYTY_VITRA">
    <pattern>
      <token inflected="yes" regexp="yes">ловити|шукати|виглядати</token>
      <marker>
        <token>вітра</token>
      </marker>
    </pattern>
    <disambig><wd lemma="вітер" pos="noun:inanim:m:v_rod"/></disambig>
    <example type="ambiguous"
        inputform="вітра[вітра]"
        outputform="вітра[вітер/noun:inanim:m:v_rod]">шукай <marker>вітра</marker> в полі.</example>
    <example type="untouched">Швидкого вітра.</example>
  </rule>


  <rule name="Розуміється - insert" id="rozumiyetsa-insert">
    <pattern>
      <token regexp="yes">[,—–-]</token>
      <marker>
        <token>розуміється</token>
      </marker>
      <token regexp="yes">[,.!?…:;—–-]</token>
    </pattern>
    <disambig action="filter" postag="noninfl:&amp;insert:bad"/>
    <example type="ambiguous"
        inputform="розуміється[розумітися/verb:rev:imperf:pres:s:3,розуміється/noninfl:&amp;insert:bad]"
        outputform="розуміється[розуміється/noninfl:&amp;insert:bad]">він, <marker>розуміється</marker>, все сказав.</example>
    <example type="untouched">він розуміється на цьому.</example>
  </rule>

  <rule name="Розуміється - verb" id="rozumiyetsa-verb">
    <pattern>
      <token negate="yes" regexp="yes">[,—–-]</token>
      <marker>
        <token>розуміється</token>
      </marker>
      <token negate="yes" regexp="yes">[,.!?…:;—–-]</token>
    </pattern>
    <disambig action="filter" postag="verb:rev:imperf:pres:s:3"/>
    <example type="ambiguous"
        inputform="розуміється[розумітися/verb:rev:imperf:pres:s:3,розуміється/noninfl:&amp;insert:bad]"
        outputform="розуміється[розумітися/verb:rev:imperf:pres:s:3]">він <marker>розуміється</marker> на цьому.</example>
    <example type="untouched">він, розуміється програв</example>
  </rule>


  <rule name="Дача - надання" id="dacha-giving">
    <pattern>
      <marker>
        <token inflected="yes" postag_regexp="yes" postag="noun.*?:bad.*">дача</token>
      </marker>
      <token postag_regexp="yes" postag="adj.*" min="0"/>
      <token regexp="yes" inflected="yes" postag_regexp="yes" postag="(noun|adj).*?:v_rod.*|adv.*">показання|показ|свідчення|пояснення|хабар|оцінка|згода|хибний|неправдивий|свідомо|завідомо</token>
    </pattern>
    <disambig action="filter" postag="noun.*?:bad.*"/>
    <example type="ambiguous"
        inputform="дачі[дача/noun:inanim:f:v_dav:bad:xp2,дача/noun:inanim:f:v_dav:xp1,дача/noun:inanim:f:v_mis:bad:xp2,дача/noun:inanim:f:v_mis:xp1,дача/noun:inanim:f:v_rod:bad:xp2,дача/noun:inanim:f:v_rod:xp1,дача/noun:inanim:p:v_naz:xp1,дача/noun:inanim:p:v_zna:xp1]"
        outputform="дачі[дача/noun:inanim:f:v_dav:bad:xp2,дача/noun:inanim:f:v_mis:bad:xp2,дача/noun:inanim:f:v_rod:bad:xp2]">від <marker>дачі</marker> показань.</example>
    <example type="ambiguous"
        inputform="дачу[дача/noun:inanim:f:v_zna:bad:xp2,дача/noun:inanim:f:v_zna:xp1]"
        outputform="дачу[дача/noun:inanim:f:v_zna:bad:xp2]">на <marker>дачу</marker> неправдивих свідчень.</example>
    <example type="ambiguous"
        inputform="дачу[дача/noun:inanim:f:v_zna:bad:xp2,дача/noun:inanim:f:v_zna:xp1]"
        outputform="дачу[дача/noun:inanim:f:v_zna:bad:xp2]">на <marker>дачу</marker> свідомо неправдивих свідчень.</example>
    <example type="untouched">в мене на дачі.</example>
  </rule>

  <rule name="Дача - будинок" id="dacha-house_1">
    <pattern>
      <token regexp="yes" inflected="yes">на|з|неподалік|купувати|будувати|здавати</token>
<!--      <token postag_regexp="yes" postag="adj:[fp]:.*" min="0">
        <exception inflected="yes" regexp="yes">добровільний|примусовий|масовий</exception>
      </token>
-->      <marker>
        <token inflected="yes" postag_regexp="yes" postag="noun(?!.*?:bad).*">дача
          <exception scope="next" regexp="yes" inflected="yes" postag_regexp="yes" postag="(noun|adj).*?:v_rod.*|adv.*">показання|показ|свідчення|пояснення|хабар|оцінка|згода|хибний|неправдивий|свідомо|завідомо</exception>
        </token>
      </marker>
    </pattern>
    <disambig action="remove" postag="noun.*?:bad.*"/>
    <example type="ambiguous"
        inputform="дачі[дача/noun:inanim:f:v_dav:bad:xp2,дача/noun:inanim:f:v_dav:xp1,дача/noun:inanim:f:v_mis:bad:xp2,дача/noun:inanim:f:v_mis:xp1,дача/noun:inanim:f:v_rod:bad:xp2,дача/noun:inanim:f:v_rod:xp1,дача/noun:inanim:p:v_naz:xp1,дача/noun:inanim:p:v_zna:xp1]"
        outputform="дачі[дача/noun:inanim:f:v_dav:xp1,дача/noun:inanim:f:v_mis:xp1,дача/noun:inanim:f:v_rod:xp1,дача/noun:inanim:p:v_naz:xp1,дача/noun:inanim:p:v_zna:xp1]">в мене на <marker>дачі</marker>.</example>
    <example type="ambiguous"
        inputform="дачу[дача/noun:inanim:f:v_zna:bad:xp2,дача/noun:inanim:f:v_zna:xp1]"
        outputform="дачу[дача/noun:inanim:f:v_zna:xp1]">на <marker>дачу</marker>,</example>
    <example type="untouched">від дачі показань.</example>
    <example type="untouched">на дачі показань.</example>
    <example type="untouched">на добровільній дачі показань.</example>
  </rule>

  <rule name="Дача - будинок" id="dacha-house_2">
    <pattern>
      <unify>
        <feature id="gender"/>
        <feature id="case"/>
        <token postag_regexp="yes" postag="adj:[fp]:.*">
          <exception inflected="yes" regexp="yes">добровільний|примусовий|масовий</exception>
        </token>
        <marker>
          <token inflected="yes" postag_regexp="yes" postag="noun(?!.*?:bad).*">дача
            <exception scope="next" regexp="yes" inflected="yes" postag_regexp="yes" postag="(noun|adj).*?:v_rod.*|adv.*">показання|показ|свідчення|пояснення|хабар|оцінка|згода|хибний|неправдивий|свідомо|завідомо</exception>
          </token>
        </marker>
      </unify>
    </pattern>
    <disambig action="remove" postag="noun.*?:bad.*"/>
    <example type="ambiguous"
        inputform="дачі[дача/noun:inanim:f:v_dav:bad:xp2,дача/noun:inanim:f:v_dav:xp1,дача/noun:inanim:f:v_mis:bad:xp2,дача/noun:inanim:f:v_mis:xp1,дача/noun:inanim:f:v_rod:bad:xp2,дача/noun:inanim:f:v_rod:xp1,дача/noun:inanim:p:v_naz:xp1,дача/noun:inanim:p:v_zna:xp1]"
        outputform="дачі[дача/noun:inanim:f:v_dav:xp1,дача/noun:inanim:f:v_mis:xp1,дача/noun:inanim:f:v_rod:xp1,дача/noun:inanim:p:v_naz:xp1,дача/noun:inanim:p:v_zna:xp1]">з моєї <marker>дачі</marker>.</example>
    <example type="untouched">від дачі показань.</example>
    <example type="untouched">на дачі показань.</example>
    <example type="untouched">на добровільний дачі свідчень.</example>
  </rule>


  <rule name="Заморозки - мн." id="zamorozky_noun_plural_1">
    <pattern>
      <token postag_regexp="yes" postag="adj:p:v_(naz|zna).*"/>
      <marker>
        <token>заморозки</token>
      </marker>
    </pattern>
    <disambig action="remove" postag="noun.*?:bad.*"/>
    <example type="ambiguous"
        inputform="заморозки[заморозка/noun:inanim:f:v_rod:bad,заморозок/noun:inanim:p:v_naz,заморозок/noun:inanim:p:v_zna]"
        outputform="заморозки[заморозок/noun:inanim:p:v_naz,заморозок/noun:inanim:p:v_zna]">перші <marker>заморозки</marker>.</example>
    <example type="untouched">прикладення повної заморозки</example>
  </rule>

  <rule name="Заморозки - мн." id="zamorozky_noun_plural_2">
    <pattern>
      <token postag_regexp="yes" postag="verb.*?(:p:3|:past:p).*"/>
      <marker>
        <token>заморозки</token>
      </marker>
    </pattern>
    <disambig action="remove" postag="noun.*?:bad.*"/>
    <example type="ambiguous"
        inputform="заморозки[заморозка/noun:inanim:f:v_rod:bad,заморозок/noun:inanim:p:v_naz,заморозок/noun:inanim:p:v_zna]"
        outputform="заморозки[заморозок/noun:inanim:p:v_naz,заморозок/noun:inanim:p:v_zna]">прийдуть <marker>заморозки</marker>.</example>
    <example type="untouched">прикладення заморозки</example>
  </rule>

  <rule name="Заморозки - ж.р." id="zamorozky_noun_f_1">
    <pattern>
      <token postag_regexp="yes" postag="adj:f:v_rod.*"/>
      <marker>
        <token>заморозки</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun.*?:bad.*"/>
    <example type="ambiguous"
        inputform="заморозки[заморозка/noun:inanim:f:v_rod:bad,заморозок/noun:inanim:p:v_naz,заморозок/noun:inanim:p:v_zna]"
        outputform="заморозки[заморозка/noun:inanim:f:v_rod:bad]">до повної <marker>заморозки</marker>.</example>
    <example type="untouched">перші заморозки</example>
  </rule>


  <rule name="Побільше - присл." id="pobilshe_adv">
    <pattern>
      <marker>
        <token>побільше
          <exception scope="next" postag_regexp="yes" postag=".*?:n:v_(naz|zna).*"/>
        </token>
      </marker>
    </pattern>
    <disambig action="filter" postag="adv:bad.*"/>
    <example type="ambiguous"
        inputform="побільше[побільше/adv:bad,побільший/adj:n:v_kly:rare,побільший/adj:n:v_naz:rare,побільший/adj:n:v_zna:rare]"
        outputform="побільше[побільше/adv:bad]">з'їсти <marker>побільше</marker> м'яса</example>
    <example type="untouched">Ввести побільше мито.</example>
  </rule>


  <rule name="Стрілка - ж.р." id="strilka_f_1">
    <pattern>
      <unify>
        <feature id="gender"/>
        <feature id="case"/>
        <token postag_regexp="yes" postag="adj:(f|p:v_rod).*"/>
        <marker>
          <token inflected="yes" postag_regexp="yes" postag="noun:inanim:(f|p:v_rod).*">стрілка</token>
        </marker>
      </unify>
    </pattern>
    <disambig action="remove" postag="noun.*?:bad.*"/>
    <example type="ambiguous"
        inputform="стрілка[стрілка/noun:inanim:f:v_naz,стрілок/noun:anim:m:v_rod:bad,стрілок/noun:anim:m:v_zna:bad]"
        outputform="стрілка[стрілка/noun:inanim:f:v_naz]">годинникова <marker>стрілка</marker>.</example>
    <example type="ambiguous"
        inputform="стрілок[стрілка/noun:inanim:p:v_rod,стрілок/noun:anim:m:v_naz:bad]"
        outputform="стрілок[стрілка/noun:inanim:p:v_rod]">годинникових <marker>стрілок</marker>.</example>
    <example type="untouched">Ворошилівського стрілка</example>
    <example type="untouched">Ворошилівські стрілки</example>
    <example type="untouched">годинникові стрілки</example>
  </rule>

  <rule name="Стрілка - ч.р." id="strilok_m_1">
    <pattern>
      <unify>
        <feature id="gender"/>
        <feature id="case"/>
        <token postag_regexp="yes" postag="adj:(m|p:v_(rod|zna:ranim)).*"/>
        <marker>
          <token inflected="yes" postag_regexp="yes" postag="noun:anim:(m|p:v_(rod|zna)).*">стрілок</token>
        </marker>
      </unify>
    </pattern>
    <disambig action="filter" postag="noun.*?:bad.*"/>
    <example type="ambiguous"
        inputform="стрілок[стрілка/noun:inanim:p:v_rod,стрілок/noun:anim:m:v_naz:bad]"
        outputform="стрілок[стрілок/noun:anim:m:v_naz:bad]">спритний <marker>стрілок</marker>.</example>
<!--    <example type="ambiguous"
        inputform="стрілок[стрілка/noun:inanim:p:v_rod,стрілок/noun:anim:m:v_naz:bad]"
        outputform="стрілок[стрілка/noun:inanim:p:v_rod]"> <marker>стрілк</marker>.</example>
-->
    <example type="untouched">годинникова стрілка</example>
    <example type="untouched">Ворошилівські стрілки</example>
    <example type="untouched">годинникові стрілки</example>
  </rule>


  <rule name="Гонка - не гонок" id="honky-not-honok">
    <pattern>
      <marker>
        <and>
          <token inflected="yes">гонка</token>
          <token inflected="yes">гонок</token>
        </and>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun.*?:bad.*"/>
    <example type="ambiguous"
        inputform="гонки[гонка/noun:inanim:f:v_rod:bad,гонка/noun:inanim:p:v_naz:bad,гонка/noun:inanim:p:v_zna:bad,гонок/noun:inanim:p:v_naz,гонок/noun:inanim:p:v_zna]"
        outputform="гонки[гонка/noun:inanim:f:v_rod:bad,гонка/noun:inanim:p:v_naz:bad,гонка/noun:inanim:p:v_zna:bad]">під час <marker>гонки</marker>.</example>
    <example type="untouched">міцним гонком.</example>
  </rule>

  <rule name="Продаж і продажа" id="prodazh-prodazha">
    <pattern>
      <marker>
        <and>
          <token inflected="yes">продаж</token>
          <token inflected="yes">продажа</token>
        </and>
      </marker>
    </pattern>
    <disambig action="remove" postag="noun.*?:bad.*"/>
    <example type="ambiguous"
        inputform="продажу[продаж/noun:inanim:m:v_dav,продаж/noun:inanim:m:v_mis,продаж/noun:inanim:m:v_rod,продажа/noun:inanim:f:v_zna:bad]"
        outputform="продажу[продаж/noun:inanim:m:v_dav,продаж/noun:inanim:m:v_mis,продаж/noun:inanim:m:v_rod]">за час <marker>продажу</marker>.</example>
    <example type="untouched">постраждала продажа.</example>
  </rule>

  <rule name="Грати - іменник" id="hraty-noun">
    <pattern>
      <token regexp="yes" inflected="yes">за|крізь|через|повз|об|фортечний|загороджувальний|.*?ламати|.*?пиляти|.*?пилювати|зривати|зірвати|встановл.*</token>
      <token postag_regexp="yes" postag="adj.*" min="0"/>
      <marker>
        <token>грати</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun.*?:bad.*"/>
    <example type="ambiguous"
        inputform="грати[грати/noun:inanim:p:v_naz:ns:bad,грати/noun:inanim:p:v_zna:ns:bad,грати/verb:imperf:inf]"
        outputform="грати[грати/noun:inanim:p:v_naz:ns:bad,грати/noun:inanim:p:v_zna:ns:bad]">кинули за <marker>грати</marker>.</example>
    <example type="untouched">почав грати.</example>
  </rule>

  <rule name="Грати - іменник 2" id="hraty-noun2">
    <pattern>
      <token regexp="yes">міцні|сталеві|важкі|ті</token>
      <marker>
        <token>грати</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun.*?:bad.*"/>
    <example type="ambiguous"
        inputform="грати[грати/noun:inanim:p:v_naz:ns:bad,грати/noun:inanim:p:v_zna:ns:bad,грати/verb:imperf:inf]"
        outputform="грати[грати/noun:inanim:p:v_naz:ns:bad,грати/noun:inanim:p:v_zna:ns:bad]">міцні <marker>грати</marker> за вікном.</example>
    <example type="untouched">почав грати.</example>
  </rule>

  <rule name="Грати - дієслово" id="hraty-verb">
    <pattern>
      <marker>
        <token>грати
          <exception scope="previous" postag_regexp="yes" postag="adj:p:(v_naz|v_zna:inanim).*|prep.*"></exception>
        </token>
      </marker>
    </pattern>
    <disambig action="remove" postag="noun.*?:bad.*"/>
    <example type="ambiguous"
        inputform="грати[грати/noun:inanim:p:v_naz:ns:bad,грати/noun:inanim:p:v_zna:ns:bad,грати/verb:imperf:inf]"
        outputform="грати[грати/verb:imperf:inf]">почав <marker>грати</marker> на скрипці.</example>
    <example type="untouched">гарні грати.</example>
    <example type="untouched">стукати у грати.</example>
  </rule>

  <rule name="діти - дієслово" id="dity-verb">
    <pattern>
      <token>правди</token>
      <marker>
        <token>діти</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="verb.*"/>
    <example type="ambiguous"
        inputform="діти[дитина/noun:anim:p:v_kly,дитина/noun:anim:p:v_naz,діти/verb:perf:inf]"
        outputform="діти[діти/verb:perf:inf]">ніде правди <marker>діти</marker>.</example>
    <example type="untouched">мої діти.</example>
  </rule>

  <rule name="діти - іменник" id="dity-noun">
    <pattern>
      <marker>
        <token postag_regexp="yes" postag="noun:anim:p.*">діти</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun:anim:p.*"/>
    <example type="ambiguous"
        inputform="діти[дитина/noun:anim:p:v_kly,дитина/noun:anim:p:v_naz,діти/verb:perf:inf]"
        outputform="діти[дитина/noun:anim:p:v_kly,дитина/noun:anim:p:v_naz]">чиїсь <marker>діти</marker>.</example>
    <example type="untouched">ніде правди діти.</example>
  </rule>


  <rule name="пристрою - іменник" id="prystroyu-noun">
    <pattern>
      <token postag_regexp="yes" postag="adj:m:v_rod.*|prep.*"/>
      <marker>
        <token>пристрою</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun:inanim:.*"/>
    <example type="ambiguous"
        inputform="пристрою[пристроїти/verb:perf:futr:s:1,пристрій/noun:inanim:m:v_dav,пристрій/noun:inanim:m:v_mis,пристрій/noun:inanim:m:v_rod]"
        outputform="пристрою[пристрій/noun:inanim:m:v_dav,пристрій/noun:inanim:m:v_mis,пристрій/noun:inanim:m:v_rod]">із <marker>пристрою</marker>.</example>
    <example type="untouched">я його десь пристрою.</example>
  </rule>

  <rule name="держав - іменник" id="derzhav-noun">
    <pattern>
      <token postag_regexp="yes" postag="adj:p:v_rod.*|.*?num.*"/>
      <marker>
        <token>держав</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun:inanim:p:v_rod.*"/>
    <example type="ambiguous"
        inputform="держав[держава/noun:inanim:p:v_rod,держати/verb:imperf:past:m]"
        outputform="держав[держава/noun:inanim:p:v_rod]">двох незалежних <marker>держав</marker>.</example>
    <example type="untouched">держав її в своїх руках.</example>
  </rule>

  <rule name="вчений - прикметник" id="vchenyi-adj">
    <pattern>
      <marker>
        <token inflected="yes">вчений</token>
      </marker>
      <token inflected="yes" regexp="yes">секретар|ступінь|звання|рада|людина|чоловік</token>
    </pattern>
    <disambig action="filter" postag="adj.*"/>
    <example type="ambiguous"
        inputform="вчений[вчений/adj:m:v_kly:&amp;&amp;adjp:pasv:imperf,вчений/adj:m:v_naz:&amp;&amp;adjp:pasv:imperf,вчений/adj:m:v_zna:rinanim:&amp;&amp;adjp:pasv:imperf,вчений/noun:anim:m:v_kly,вчений/noun:anim:m:v_naz]"
        outputform="вчений[вчений/adj:m:v_kly:&amp;&amp;adjp:pasv:imperf,вчений/adj:m:v_naz:&amp;&amp;adjp:pasv:imperf,вчений/adj:m:v_zna:rinanim:&amp;&amp;adjp:pasv:imperf]">отримав <marker>вчений</marker> ступінь.</example>
    <example type="untouched">держав її в своїх руках.</example>
  </rule>

  <rule name="коли - не іменник" id="KOLY_NOT_NOUN">
    <pattern>
      <marker>
        <token>коли
          <exception scope="previous" inflected="yes" regexp="yes">випити|випивши|випитий|дерев'яний|.*?забивати|.*?забити</exception>
        </token>
      </marker>
    </pattern>
    <disambig action="remove" postag="noun:.*"/>
    <example type="ambiguous"
        inputform="коли[кола/noun:inanim:f:v_rod,кола/noun:inanim:p:v_naz,кола/noun:inanim:p:v_zna,коли/adv:&amp;pron:int:rel,коли/conj:subord,коли/part,кіл/noun:inanim:p:v_naz,кіл/noun:inanim:p:v_zna]"
        outputform="коли[коли/adv:&amp;pron:int:rel,коли/conj:subord,коли/part]">запитали <marker>коли</marker> він їде.</example>
    <example type="untouched">дерев'яні коли.</example>
    <example type="untouched">позабивати коли.</example>
    <example type="untouched">від випитої коли.</example>
  </rule>

  <rule name="жив - дієслово" id="zhyv-verb">
    <pattern>
      <marker>
        <token>жив
          <exception scope="previous" regexp="yes">поки|доки</exception>
        </token>
      </marker>
    </pattern>
    <disambig action="filter" postag="verb:.*"/>
    <example type="ambiguous"
        inputform="жив[живий/adj:m:v_naz:short,живий/adj:m:v_zna:rinanim:short,жити/verb:imperf:past:m]"
        outputform="жив[жити/verb:imperf:past:m]">він <marker>жив</marker> не бідно.</example>
    <example type="untouched">не віддам доки жив.</example>
  </rule>

  <rule name="українська - прикметник" id="ukrainska-adj">
    <pattern>
      <unify>
        <feature id="gender"/>
        <feature id="case"/>
        <marker>
          <token inflected="yes" postag_regexp="yes" postag="adj:f:.*" regexp="yes">український|російський|німецький|польський|французький|білоруський|іспанський|японський|арабський</token>
        </marker>
        <token postag_regexp="yes" postag="noun:.*?:f:.*"/>
      </unify>
    </pattern>
    <disambig action="filter" postag="adj:f:.*"/>
    <example type="ambiguous"
        inputform="української[українська/noun:inanim:f:v_rod,український/adj:f:v_rod:compb]"
        outputform="української[український/adj:f:v_rod:compb]">до <marker>української</marker> нації.</example>
    <example type="untouched">різними мовами, зокрема українською.</example>
    <example type="untouched">англійською, українською дівчина говорила вільно.</example>
  </rule>

  <rule name="кв. - прикметник" id="kv-adj">
    <pattern>
      <marker>
        <token>кв.</token>
      </marker>
      <token regexp="yes">[ксм]м</token>
    </pattern>
    <disambig action="filter" postag="adj:[mp]:.*"/>
    <example type="ambiguous"
        inputform="кв.[кв./adj:f:v_dav:nv:abbr,кв./adj:f:v_mis:nv:abbr,кв./adj:f:v_naz:nv:abbr,кв./adj:f:v_oru:nv:abbr,кв./adj:f:v_rod:nv:abbr,кв./adj:f:v_zna:nv:abbr,кв./adj:m:v_dav:nv:abbr,кв./adj:m:v_mis:nv:abbr,кв./adj:m:v_naz:nv:abbr,кв./adj:m:v_oru:nv:abbr,кв./adj:m:v_rod:nv:abbr,кв./adj:m:v_zna:nv:abbr,кв./adj:n:v_dav:nv:abbr,кв./adj:n:v_mis:nv:abbr,кв./adj:n:v_naz:nv:abbr,кв./adj:n:v_oru:nv:abbr,кв./adj:n:v_rod:nv:abbr,кв./adj:n:v_zna:nv:abbr,кв./adj:p:v_dav:nv:abbr,кв./adj:p:v_mis:nv:abbr,кв./adj:p:v_naz:nv:abbr,кв./adj:p:v_oru:nv:abbr,кв./adj:p:v_rod:nv:abbr,кв./adj:p:v_zna:nv:abbr,кв./noun:inanim:f:v_dav:nv:abbr,кв./noun:inanim:f:v_mis:nv:abbr,кв./noun:inanim:f:v_naz:nv:abbr,кв./noun:inanim:f:v_oru:nv:abbr,кв./noun:inanim:f:v_rod:nv:abbr,кв./noun:inanim:f:v_zna:nv:abbr]"
        outputform="кв.[кв./adj:m:v_dav:nv:abbr,кв./adj:m:v_mis:nv:abbr,кв./adj:m:v_naz:nv:abbr,кв./adj:m:v_oru:nv:abbr,кв./adj:m:v_rod:nv:abbr,кв./adj:m:v_zna:nv:abbr,кв./adj:p:v_dav:nv:abbr,кв./adj:p:v_mis:nv:abbr,кв./adj:p:v_naz:nv:abbr,кв./adj:p:v_oru:nv:abbr,кв./adj:p:v_rod:nv:abbr,кв./adj:p:v_zna:nv:abbr]"
        >155 <marker>кв.</marker> км.</example>
    <example type="untouched">14, кв. 88.</example>
  </rule>

  <rule name="ц.р. 1" id="c-r_1">
    <pattern>
      <marker>
        <token>ц.</token>
      </marker>
      <token>р.</token>
    </pattern>
    <disambig postag="adj:m:v_rod:&amp;pron:dem"/>
    <example type="ambiguous"
        inputform="ц.[ц.]"
        outputform="ц.[ц./adj:m:v_rod:&amp;pron:dem]"
        >5 травня <marker>ц.</marker> р.</example>
    <example type="untouched">ц. т. їхні вірування й культ</example>
  </rule>

  <rule name="ц.р. 2" id="c-r_2">
    <pattern>
      <token>ц.</token>
      <marker>
        <token>р.</token>
      </marker>
    </pattern>
    <disambig postag="noun:inanim:m:v_rod"/>
    <example type="ambiguous"
        inputform="р.[р./noun:inanim:f:v_dav:nv:abbr,р./noun:inanim:f:v_mis:nv:abbr,р./noun:inanim:f:v_naz:nv:abbr,р./noun:inanim:f:v_oru:nv:abbr,р./noun:inanim:f:v_rod:nv:abbr,р./noun:inanim:f:v_zna:nv:abbr,р./noun:inanim:m:v_dav:nv:abbr,р./noun:inanim:m:v_mis:nv:abbr,р./noun:inanim:m:v_naz:nv:abbr,р./noun:inanim:m:v_oru:nv:abbr,р./noun:inanim:m:v_rod:nv:abbr,р./noun:inanim:m:v_zna:nv:abbr]"
        outputform="р.[р./noun:inanim:m:v_rod]"
        >5 травня ц. <marker>р.</marker> вони пішли в наступ</example>
    <example type="untouched">1227 р.</example>
  </rule>

  <rule name="Округи (іменник - не прийменник)" id="OKRUGY">
    <pattern>
      <token>округи</token>
    </pattern>
    <disambig action="remove" postag="prep"/>
    <example type="ambiguous"
        inputform="округи[округ/noun:inanim:p:v_naz,округ/noun:inanim:p:v_zna,округа/noun:inanim:f:v_rod,округа/noun:inanim:p:v_naz,округа/noun:inanim:p:v_zna,округи/prep]"
        outputform="округи[округ/noun:inanim:p:v_naz,округ/noun:inanim:p:v_zna,округа/noun:inanim:f:v_rod,округа/noun:inanim:p:v_naz,округа/noun:inanim:p:v_zna]"
        >Одномандатні <marker>округи</marker>.</example>
  </rule>


  <rule name="Прийменник і частка 'на'" id="DIS_PREP_NA1">
    <pattern>
      <token>на
        <exception scope="next" regexp="yes">тобі|маєш</exception>
      </token>
      <token negate="yes" regexp="yes">[\p{Punct}–—«“„…]|[!?.]{3}</token>
    </pattern>
    <disambig action="filter" postag="prep.*|&lt;.*"/>
    <example type="ambiguous"
        inputform="На[на/intj,на/part,на/prep]"
        outputform="На[на/prep]"><marker>На</marker> столі лежала книжка.</example>
    <example type="ambiguous"
        inputform="На[на/intj,на/part,на/prep]"
        outputform="На[на/prep]"><marker>На</marker> трьох.</example>
    <example type="ambiguous"
        inputform="На[на/intj,на/part,на/prep]"
        outputform="На[на/prep]"><marker>На</marker> сьогодні.</example>
    <example type="untouched">На тобі портфель.</example>
    <example type="untouched">Ось тобі й на…</example>
    <!--
    <example type="untouched">На портфель, Василю.</example>
    -->
  </rule>

<!--
  TODO: needed when we can ignore insert phrases
  <rule name="Прийменник і частка 'на' з комою" id="DIS_PREP_NA2">
    <pattern>
      <token>на
        <exception scope="previous" regexp="yes">[,—]|ось|от|тобі</exception>
      </token>
      <token>,</token>
      <token>
        <exception regexp="yes">маєш|на|тобі|це|[—–-]</exception>
        <exception postag_regexp="yes" postag="verb.*?:impr.*"/>
        <exception postag_regexp="yes" postag="noun.*?:v_kly.*"/>
      </token>
    </pattern>
    <disambig><match no="1" postag="prep.*|&lt;.*" postag_regexp="yes"/></disambig>
    <example type="ambiguous" 
        inputform="На[на/intj,на/part,на/prep:rv_zna:rv_mis]" 
        outputform="На[на/prep:rv_zna:rv_mis]"><marker>На</marker>, мабуть, вже наступний поїзд.</example>
    <example type="untouched">На, маєш, тобі портфель.</example>
    <example type="untouched">На, на, гризи!</example>
    <example type="untouched">На, гризи!</example>
    <example type="untouched">На, це тобі!</example>
    <example type="untouched">на, небоже, що нікому не гоже</example>
    <example type="untouched">на, бери, бери все</example>
    <example type="untouched">треба електрозварників — на, малярів — будь ласка</example>
    <example type="untouched">Ось на, краще поїж</example>
    <example type="untouched">Ось на, і бувай здорова</example>
    <example type="untouched">І от тобі на, така метаморфоза</example>
    <example type="untouched">Ну, на, дурне, понюхай</example>
  </rule>
-->

  <rule name="Згідно" id="DIS_PREP_ZGIDNO_Z1">
    <pattern>
      <marker>
        <token>згідно</token>
      </marker>
      <token>з</token>
    </pattern>
    <disambig action="remove" postag="adv"></disambig>
    <example type="ambiguous"
        inputform="Згідно[згідно/adv]"
        outputform="Згідно[Згідно]"><marker>Згідно</marker> з правилом.</example>
    <example type="untouched">Вони жили згідно.</example>
  </rule>

  <rule name="Згідно" id="DIS_PREP_ZGIDNO_Z2">
    <pattern>
      <token>згідно</token>
      <marker>
        <token>з</token>
      </marker>
    </pattern>
    <disambig action="remove" postag="prep"></disambig>
    <example type="ambiguous" 
        inputform="з[з/prep]"
        outputform="з[з]">Згідно <marker>з</marker> правилом.</example>
    <example type="untouched">Вони жили згідно.</example>
  </rule>
 
  <rule name="Номер_будинку" id="STREET_NUMBER">
    <pattern>
      <token regexp="yes" inflected="yes">вул\.|вулиця|номер|№</token>
      <token min="0" max="3">
        <exception regexp="yes">[0-9]+-[а-еєґ]</exception>
      </token>
      <marker>
        <token regexp="yes">[0-9]+-[а-еєґ]</token>
      </marker>
    </pattern>
    <disambig action="add"><wd lemma="0-а" pos="number"/></disambig>
    <example type="ambiguous" 
        inputform="17-а[17-й/adj:f:v_naz:&amp;numr]"
        outputform="17-а[0-а/number,17-й/adj:f:v_naz:&amp;numr]">З № <marker>17-а</marker>.</example>
    <example type="ambiguous" 
        inputform="17-а[17-й/adj:f:v_naz:&amp;numr]"
        outputform="17-а[0-а/number,17-й/adj:f:v_naz:&amp;numr]">На вул. Рубчака <marker>17-а</marker>.</example>
    <example type="untouched">17-а сторінка.</example>
  </rule>

  <!-- Великі літери в середині слова -->

  <rule name="Люба з великої літери в середині речення - ім'я" id="DIS_LUBA_INSIDE_SENTENCE">
    <pattern case_sensitive="yes">
      <and>
        <token inflected="yes" postag_regexp="yes" postag="noun.*">Люба
          <exception scope="previous" postag="SENT_START"/>
          <exception scope="previous" regexp="yes">[«„“\[\](—–-]</exception>
        </token>
        <token postag_regexp="yes" postag="adj.*"/>
      </and>
    </pattern>
    <disambig action="filter" postag="noun.*"/>
    <example type="ambiguous" 
        inputform="Люба[&lt;/S&gt;,Люба/noun:anim:f:v_naz:prop:fname,любий/adj:f:v_kly:compb,любий/adj:f:v_naz:compb]" 
        outputform="Люба[&lt;/S&gt;,Люба/noun:anim:f:v_naz:prop:fname]">Агов <marker>Люба</marker></example>
    <example type="untouched">«Люба формула.</example>
  </rule>

  <rule name="Люба з прізвищем/по батькові - ім'я" id="DIS_LUBA_WITH_LASTNAME">
    <pattern case_sensitive="yes">
      <marker>
        <token inflected="yes" postag_regexp="yes" postag="noun.*">Люба</token>
      </marker>
      <token postag_regexp="yes" postag="noun.*?:[lp]name.*"/>
    </pattern>
    <disambig action="filter" postag="noun.*"/>
    <example type="ambiguous" 
        inputform="Люба[Люба/noun:anim:f:v_naz:prop:fname,любий/adj:f:v_kly:compb,любий/adj:f:v_naz:compb]" 
        outputform="Люба[Люба/noun:anim:f:v_naz:prop:fname]"><marker>Люба</marker> Михайлівна</example>
    <example type="untouched">Така Люба.</example>
    <example type="untouched">Люба преференція.</example>
  </rule>

  <rule name="Едгар По" id="DIS_EDGAR_PO">
    <pattern case_sensitive="yes">
      <token postag_regexp="yes" postag="noun.*?fname.*"/>
      <marker>
        <token>По</token>
      </marker>
    </pattern>
    <disambig><wd pos="noun:anim:m:nv:prop:lname" lemma="По"/></disambig>
    <example type="ambiguous" 
        inputform="По[&lt;/S&gt;,по/prep]"
        outputform="По[&lt;/S&gt;,По/noun:anim:m:nv:prop:lname]">Знали Аллана <marker>По</marker></example>
    <example type="ambiguous"
        inputform="По[&lt;/S&gt;,по/prep]" 
        outputform="По[&lt;/S&gt;,По/noun:anim:m:nv:prop:lname]">Знали Едгара <marker>По</marker></example>
    <example type="untouched">ганяли Едгара по полю.</example>
  </rule>

  <rule name="Едгар Аллан По" id="DIS_EDGAR_PO_2">
    <pattern case_sensitive="yes">
      <token regexp="yes">[А-ЯІЇЄҐ]\.|ім'я|родина</token>
      <marker>
        <token>По</token>
      </marker>
    </pattern>
    <disambig><wd pos="noun:anim:m:nv:prop:lname" lemma="По"/></disambig>
    <example type="ambiguous" 
        inputform="По[&lt;/S&gt;,по/prep]"
        outputform="По[&lt;/S&gt;,По/noun:anim:m:nv:prop:lname]">Знали Едгара А. <marker>По</marker></example>
    <example type="untouched">ганяли Едгара по полю.</example>
  </rule>

  <rule name="Однолітерні скорочення лише з малої" id="SINGLE_CHAR_ABBR_NO_CAPS">
    <pattern>
      <token case_sensitive="yes" postag_regexp="yes" postag="noun.*?:abbr.*" regexp="yes">[А-ЯІЇЄҐ]\.
        <exception postag_regexp="yes" postag="noun.*?[fp]name.*"/>
      </token>
    </pattern>
    <disambig action="remove" postag=".*"/>
    <example type="ambiguous" 
        inputform="С.[с./noun:inanim:n:v_dav:nv:abbr,с./noun:inanim:n:v_mis:nv:abbr,с./noun:inanim:n:v_naz:nv:abbr,с./noun:inanim:n:v_oru:nv:abbr,с./noun:inanim:n:v_rod:nv:abbr,с./noun:inanim:n:v_zna:nv:abbr]" 
        outputform="С.[С.]"><marker>С.</marker> Мокітмі.</example>
    <example type="ambiguous" 
        inputform="С.[С./noun:anim:m:v_naz:prop:fname:abbr]"
        outputform="С.[С.]"><marker>С.</marker> Макаров.</example>
  </rule>

  <rule name="га - гектар 1" id="HA_HEKTAR_1">
    <pattern>
      <token postag_regexp="yes" postag=".*?num.*"/>
      <marker>
        <token case_sensitive="yes">га</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun.*?:abbr"/>
    <example type="ambiguous" 
        inputform="га[га/intj,га/noun:inanim:m:v_dav:nv:abbr,га/noun:inanim:m:v_mis:nv:abbr,га/noun:inanim:m:v_naz:nv:abbr,га/noun:inanim:m:v_oru:nv:abbr,га/noun:inanim:m:v_rod:nv:abbr,га/noun:inanim:m:v_zna:nv:abbr,га/noun:inanim:p:v_dav:nv:abbr,га/noun:inanim:p:v_mis:nv:abbr,га/noun:inanim:p:v_naz:nv:abbr,га/noun:inanim:p:v_oru:nv:abbr,га/noun:inanim:p:v_rod:nv:abbr,га/noun:inanim:p:v_zna:nv:abbr]"
        outputform="га[га/noun:inanim:m:v_dav:nv:abbr,га/noun:inanim:m:v_mis:nv:abbr,га/noun:inanim:m:v_naz:nv:abbr,га/noun:inanim:m:v_oru:nv:abbr,га/noun:inanim:m:v_rod:nv:abbr,га/noun:inanim:m:v_zna:nv:abbr,га/noun:inanim:p:v_dav:nv:abbr,га/noun:inanim:p:v_mis:nv:abbr,га/noun:inanim:p:v_naz:nv:abbr,га/noun:inanim:p:v_oru:nv:abbr,га/noun:inanim:p:v_rod:nv:abbr,га/noun:inanim:p:v_zna:nv:abbr]">300 <marker>га</marker>.</example>
    <example type="ambiguous" 
        inputform="га[га/intj,га/noun:inanim:m:v_dav:nv:abbr,га/noun:inanim:m:v_mis:nv:abbr,га/noun:inanim:m:v_naz:nv:abbr,га/noun:inanim:m:v_oru:nv:abbr,га/noun:inanim:m:v_rod:nv:abbr,га/noun:inanim:m:v_zna:nv:abbr,га/noun:inanim:p:v_dav:nv:abbr,га/noun:inanim:p:v_mis:nv:abbr,га/noun:inanim:p:v_naz:nv:abbr,га/noun:inanim:p:v_oru:nv:abbr,га/noun:inanim:p:v_rod:nv:abbr,га/noun:inanim:p:v_zna:nv:abbr]" 
        outputform="га[га/noun:inanim:m:v_dav:nv:abbr,га/noun:inanim:m:v_mis:nv:abbr,га/noun:inanim:m:v_naz:nv:abbr,га/noun:inanim:m:v_oru:nv:abbr,га/noun:inanim:m:v_rod:nv:abbr,га/noun:inanim:m:v_zna:nv:abbr,га/noun:inanim:p:v_dav:nv:abbr,га/noun:inanim:p:v_mis:nv:abbr,га/noun:inanim:p:v_naz:nv:abbr,га/noun:inanim:p:v_oru:nv:abbr,га/noun:inanim:p:v_rod:nv:abbr,га/noun:inanim:p:v_zna:nv:abbr]">2 млн <marker>га</marker>.</example>
    <example type="untouched">каже йому: га?</example>
  </rule>

  <rule name="га - гектар 2" id="HA_HEKTAR_2">
    <pattern>
      <token>/</token>
      <marker>
        <token case_sensitive="yes">га</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun.*?:abbr"/>
    <example type="ambiguous"
        inputform="га[га/intj,га/noun:inanim:m:v_dav:nv:abbr,га/noun:inanim:m:v_mis:nv:abbr,га/noun:inanim:m:v_naz:nv:abbr,га/noun:inanim:m:v_oru:nv:abbr,га/noun:inanim:m:v_rod:nv:abbr,га/noun:inanim:m:v_zna:nv:abbr,га/noun:inanim:p:v_dav:nv:abbr,га/noun:inanim:p:v_mis:nv:abbr,га/noun:inanim:p:v_naz:nv:abbr,га/noun:inanim:p:v_oru:nv:abbr,га/noun:inanim:p:v_rod:nv:abbr,га/noun:inanim:p:v_zna:nv:abbr]" 
        outputform="га[га/noun:inanim:m:v_dav:nv:abbr,га/noun:inanim:m:v_mis:nv:abbr,га/noun:inanim:m:v_naz:nv:abbr,га/noun:inanim:m:v_oru:nv:abbr,га/noun:inanim:m:v_rod:nv:abbr,га/noun:inanim:m:v_zna:nv:abbr,га/noun:inanim:p:v_dav:nv:abbr,га/noun:inanim:p:v_mis:nv:abbr,га/noun:inanim:p:v_naz:nv:abbr,га/noun:inanim:p:v_oru:nv:abbr,га/noun:inanim:p:v_rod:nv:abbr,га/noun:inanim:p:v_zna:nv:abbr]">ц/<marker>га</marker>.</example>
    <example type="untouched">каже йому: га?</example>
  </rule>


  <rule name="Прізвище після імені" id="last_name_after_first_name">
    <pattern>
      <token postag_regexp="yes" postag="noun:anim.*?fname.*"/>
      <marker>
        <token postag_regexp="yes" postag="noun:anim.*?lname.*"/>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun:.*?prop.*"></disambig>
    <!-- allow other :prop for now, e.g. Андрій Макарів (місто) не любив... -->
    <example type="ambiguous"
        inputform="Кіска[Кіска/noun:anim:m:v_naz:prop:lname,кіска/noun:inanim:f:v_naz]"
        outputform="Кіска[Кіска/noun:anim:m:v_naz:prop:lname]"
            >його привітав Андрей <marker>Кіска</marker>.</example>
    <example type="untouched">довга Кіска</example>
  </rule>

  <!-- Загальне правило не працює, бо часто загальні іменники можуть вживатися з великої: «але для Ігор у Турині зробили виняток»
  <rule name="Іменник з великої літери в середині речення - власна назва" id="CAPITAL_INSIDE_SENTENCE_IS_PROP_NOUN">
    <pattern case_sensitive="yes">
      <token inflected="yes" regexp="yes" postag_regexp="yes" postag="noun.*">[А-ЯІЇЄҐ][а-яіїєґ'-]+
              <exception scope="previous" postag="SENT_START"/>
              <exception scope="previous" regexp="yes">[«„“\[\](—–-]</exception>
              <exception postag_regexp="yes" postag="adj.*"></exception>
            </token>
    </pattern>
    <disambig><match no="1" postag="noun.*:prop.*|part:pers" postag_regexp="yes"/></disambig>
    <example type="ambiguous" 
        inputform="Острогу[Острог/noun:inanim:m:v_dav:prop,Острог/noun:inanim:m:v_mis:prop,острог/noun:inanim:m:v_dav,острог/noun:inanim:m:v_mis,остріг/noun:inanim:m:v_dav,остріг/noun:inanim:m:v_mis,остріг/noun:inanim:m:v_rod]" 
        outputform="Острогу[Острог/noun:inanim:m:v_dav:prop,Острог/noun:inanim:m:v_mis:prop]">Прах хороброго лицаря з <marker>Острогу</marker>.</example>
    <example type="untouched">За Вільну демократичну партію.</example>
    <example type="untouched">Люба формула.</example>
  </rule>

  <!- Вилучає багато файльшивих, але також ховає справжні, бо часто загальні пишуть з великої в середині, як власні ->
  <rule name="Іменник з великої літери в середині речення без власної назви" id="DIS_CAPITAL_INSIDE_SENTENCE_WITHOUT_PROP_NOUN">
    <pattern case_sensitive="yes">
      <token regexp="yes" postag_regexp="yes" postag="noun.*">[А-ЯІЇЄҐ][а-яіїєґ'-]+
              <exception scope="previous" postag="SENT_START"/>
              <exception scope="previous" regexp="yes">[«„“\[\](—–-] </exception>
              <exception postag_regexp="yes" postag="adj.*|.*:prop.*"/>
              <exception inflected="yes">бог</exception>
              <exception>Авт</exception>
            </token>
    </pattern>
    <disambig action="immunize"/>
    <example type="ambiguous"
        inputform="Лахті[лахта/noun:inanim:f:v_dav,лахта/noun:inanim:f:v_mis]"
        outputform="Лахті[лахта/noun:inanim:f:v_dav,лахта/noun:inanim:f:v_mis{!}]">Приїхав у <marker>Лахті</marker>.</example>
    <example type="untouched">За Вільну демократичну партію.</example>
    <example type="untouched">Люба формула.</example>
  </rule>
  -->

  <rule name="Слова з великої літери в середині речення - це іменники або прикметники" id="DIS_PROPER_NOUN_INSIDE_SENTENCE">
    <pattern case_sensitive="yes">
      <and>
        <token regexp="yes" postag_regexp="yes" postag="(noun|adj).*">[А-ЯІЇЄҐ][а-яіїєґ'-]+
          <exception scope="previous" postag="SENT_START"/>
          <exception scope="previous" regexp="yes">[«„“*\[\]:(—–-]</exception>
          <exception scope="previous" regexp="yes">.*\.</exception>
          <exception regexp="yes">Як|Серед</exception>
        </token>
        <token postag_regexp="yes" postag="(verb|prep|adv).*"/>
      </and>
    </pattern>
    <disambig action="filter" postag="(noun|adj).*"/>
    <example type="ambiguous" 
        inputform="Іди[Іда/noun:anim:f:v_rod:prop:fname,іти/verb:imperf:impr:s:2]" 
        outputform="Іди[Іда/noun:anim:f:v_rod:prop:fname]">До <marker>Іди</marker> прийшли гості.</example>
    <example type="untouched">Тоді почалася Друга світова війна.</example>
    <example type="untouched">Знати про Курську дугу.</example>
    <example type="untouched">«Люба формула.</example>
    <example type="untouched">То є Більш всього.</example>
    <example type="untouched">(Пізніше Вальтер став першим.</example>
    <example type="untouched">— Раніше Україна неодноразово заявляла.</example>
    <example type="untouched">Читайте також: Менше законів.</example>
    <example type="untouched">Слово подяки Як побачать читачі</example>
    <example type="untouched">* Нехай роблять все</example>
    <!--  ст. is hard we can't reliably split sentences so need exceptions when we fail to split -->
    <example type="untouched">східної Галичини XV-XVIII ст. Серед них – привілеї</example>
    <example type="untouched">Взяти бодай XIII—XIX ст. Раніше п’єса була домінантою...</example>
  </rule>

  <!-- тимчасовий манівець для невідомих власних імен після прийменника, що збігаються з дієсловом -->
  <rule name="Слова після прийменника з великої літери в середині речення - це іменники" id="DIS_PREP_PROPER_NOUN_INSIDE_SENTENCE">
    <pattern case_sensitive="yes">
      <token postag_regexp="yes" postag="prep.*"/>
      <marker>
        <token regexp="yes" postag_regexp="yes" postag="verb.*">[А-ЯІЇЄҐ][а-яіїєґ'-]+
          <exception negate_pos="yes" postag_regexp="yes" postag="verb.*"/>
        </token>
      </marker>
    </pattern>
    <disambig postag="noun:unknown"/>
    <example type="ambiguous"
        inputform="Чули[чути/verb:imperf:past:p]"
        outputform="Чули[чути/noun:unknown]">Приїхали до <marker>Чули</marker>.</example>
    <example type="untouched">Вони все чули.</example>
    <example type="untouched">Чули її добре.</example>
  </rule>

  <rule name="Ізюм" id="CAPITAL_LETTER_IZUM">
    <pattern>
      <token>
        <exception postag="SENT_START"/>
      </token>
      <marker>
        <and>
          <token inflected="yes">Ізюм</token>
          <token inflected="yes">ізюм</token>
        </and>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun.*:prop:geo"/>
    <example type="ambiguous"
        inputform="Ізюму[Ізюм/noun:inanim:m:v_dav:prop:geo,Ізюм/noun:inanim:m:v_mis:prop:geo,ізюм/noun:inanim:m:v_dav:bad,ізюм/noun:inanim:m:v_mis:bad,ізюм/noun:inanim:m:v_rod:bad]"
        outputform="Ізюму[Ізюм/noun:inanim:m:v_dav:prop:geo,Ізюм/noun:inanim:m:v_mis:prop:geo]">приїхав з <marker>Ізюму</marker>.</example>
    <example type="untouched">вироби з ізюму.</example>
  </rule>

  <rule name="Велика літера всередині речення" id="CAPITAL_LETTER_INSIDE_SENTENCE">
    <!-- поки лише для слова, що створює проблему -->
    <pattern case_sensitive="yes">
      <marker>
        <token>Авт
          <exception scope="previous" postag="SENT_START"/>
        </token>
      </marker>
    </pattern>
    <!--
    <disambig action="remove"><match no="1" postag_regexp="yes" postag=".*?:alt.*"></match></disambig>
    -->
    <disambig action="add"><wd lemma="автор" pos="noun:inanim:m:v_naz:abbr">Авт</wd></disambig>
    <example type="ambiguous" 
        inputform="Авт[авто/noun:inanim:p:v_rod:alt]"
        outputform="Авт[авто/noun:inanim:p:v_rod:alt,автор/noun:inanim:m:v_naz:abbr]">перерозподіл (власності. — <marker>Авт</marker>. ).</example>
    <example type="untouched">під час аварій власних авт чи мотоциклів.</example>
    <example type="untouched">Авт не було зовсім.</example>
  </rule>

  <rule name="Петра з українськими прізвищами" id="PETRA_FNAME_MASC">
    <pattern case_sensitive="yes">
      <marker>
        <token regexp="yes">Петр[аіу]</token>
      </marker>
      <token inflected="yes" regexp="yes" postag_regexp="yes" postag="noun.*?:lname.*">.*енко|.*[ую]к</token>
    </pattern>
    <disambig action="remove" postag="noun:anim:f.*?:fname.*"/>
    <example type="ambiguous" 
        inputform="Петра[Петра/noun:anim:f:v_naz:prop:fname,Петро/noun:anim:m:v_rod:prop:fname,Петро/noun:anim:m:v_zna:prop:fname]" 
        outputform="Петра[Петро/noun:anim:m:v_rod:prop:fname,Петро/noun:anim:m:v_zna:prop:fname]">Приїхали до <marker>Петра</marker> Порошенка.</example>
    <example type="untouched">Обдурила Петра Марка — не вийшла за нього.</example>
  </rule>

  <rule name="«пані» з іменами та прізвищами" id="PANI_NAME_FEM">
    <pattern>
      <token inflected="yes" regexp="yes">пані|міс|місіс|фрау|сеньора|сеньйоріта|мадам|маде?муазель|добродійка</token>
      <marker>
        <token postag_regexp="yes" postag="noun:anim:f.*?[fl]name.*"/>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun:anim:f.*?:[fl]name.*"/>
    <example type="ambiguous" 
        inputform="Порошенко[Порошенко/noun:anim:f:v_dav:nv:prop:lname,Порошенко/noun:anim:f:v_kly:nv:prop:lname,Порошенко/noun:anim:f:v_mis:nv:prop:lname,Порошенко/noun:anim:f:v_naz:nv:prop:lname,Порошенко/noun:anim:f:v_oru:nv:prop:lname,Порошенко/noun:anim:f:v_rod:nv:prop:lname,Порошенко/noun:anim:f:v_zna:nv:prop:lname,Порошенко/noun:anim:m:v_naz:prop:lname]" 
        outputform="Порошенко[Порошенко/noun:anim:f:v_dav:nv:prop:lname,Порошенко/noun:anim:f:v_kly:nv:prop:lname,Порошенко/noun:anim:f:v_mis:nv:prop:lname,Порошенко/noun:anim:f:v_naz:nv:prop:lname,Порошенко/noun:anim:f:v_oru:nv:prop:lname,Порошенко/noun:anim:f:v_rod:nv:prop:lname,Порошенко/noun:anim:f:v_zna:nv:prop:lname]">Пані <marker>Порошенко</marker>.</example>
    <example type="untouched">Петро Порошенко.</example>
  </rule>

  <rule name="«пан» з іменами та прізвищами" id="PAN_NAME_MASC">
    <pattern>
      <token inflected="yes" regexp="yes">пан|містер|гер|сеньйор|монсеньйор|добродій
        <exception>пані</exception>
      </token>
      <marker>
        <token postag_regexp="yes" postag="noun:anim:m.*?:[fl]name.*"/>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun:anim:m.*:[fl]name.*"/>
    <example type="ambiguous" 
        inputform="Порошенко[Порошенко/noun:anim:f:v_dav:nv:prop:lname,Порошенко/noun:anim:f:v_kly:nv:prop:lname,Порошенко/noun:anim:f:v_mis:nv:prop:lname,Порошенко/noun:anim:f:v_naz:nv:prop:lname,Порошенко/noun:anim:f:v_oru:nv:prop:lname,Порошенко/noun:anim:f:v_rod:nv:prop:lname,Порошенко/noun:anim:f:v_zna:nv:prop:lname,Порошенко/noun:anim:m:v_naz:prop:lname]" 
        outputform="Порошенко[Порошенко/noun:anim:m:v_naz:prop:lname]">Пан <marker>Порошенко</marker>.</example>
    <example type="untouched">Разом з Порошенко.</example>
  </rule>

  <rule name="Кот д'Івуар" id="DIS_KOT_D_IVUAR1">
    <pattern case_sensitive="yes">
      <marker>
        <token>Кот</token>
      </marker>
      <token regexp="yes">д'Івуар.*</token>
    </pattern>
    <disambig action="add"><wd lemma="Кот" pos="transl">Кот</wd></disambig>
    <example type="ambiguous"
        inputform="Кот[Кот/noun:anim:f:v_dav:nv:prop:lname,Кот/noun:anim:f:v_kly:nv:prop:lname,Кот/noun:anim:f:v_mis:nv:prop:lname,Кот/noun:anim:f:v_naz:nv:prop:lname,Кот/noun:anim:f:v_oru:nv:prop:lname,Кот/noun:anim:f:v_rod:nv:prop:lname,Кот/noun:anim:f:v_zna:nv:prop:lname,Кот/noun:anim:m:v_naz:prop:lname]"
        outputform="Кот[Кот/noun:anim:f:v_dav:nv:prop:lname,Кот/noun:anim:f:v_kly:nv:prop:lname,Кот/noun:anim:f:v_mis:nv:prop:lname,Кот/noun:anim:f:v_naz:nv:prop:lname,Кот/noun:anim:f:v_oru:nv:prop:lname,Кот/noun:anim:f:v_rod:nv:prop:lname,Кот/noun:anim:f:v_zna:nv:prop:lname,Кот/noun:anim:m:v_naz:prop:lname,Кот/transl]"
            >до <marker>Кот</marker> д'Івуара</example>
    <example type="untouched">Приїхав Василь Кот.</example>
  </rule>
  <rule name="Кот д'Івуар" id="DIS_KOT_D_IVUAR2">
    <pattern case_sensitive="yes">
      <marker>
        <token>Кот</token>
      </marker>
      <token regexp="yes">д'Івуар.*</token>
    </pattern>
    <disambig postag="noninfl:prop:geo:bad"/>  <!-- should be: Кот-д'Івуар -->
    <example type="ambiguous"
        inputform="Кот[Кот/noun:anim:f:v_dav:nv:prop:lname,Кот/noun:anim:f:v_kly:nv:prop:lname,Кот/noun:anim:f:v_mis:nv:prop:lname,Кот/noun:anim:f:v_naz:nv:prop:lname,Кот/noun:anim:f:v_oru:nv:prop:lname,Кот/noun:anim:f:v_rod:nv:prop:lname,Кот/noun:anim:f:v_zna:nv:prop:lname,Кот/noun:anim:m:v_naz:prop:lname,Кот/transl]"
        outputform="Кот[Кот/noninfl:prop:geo:bad]"
            >до <marker>Кот</marker> д’Івуара</example>
    <example type="untouched">Приїхав Василь Кот.</example>
  </rule>

  <rule name="Пара власних імен" id="PAIR_OF_PROPER_NOUNS">
    <pattern case_sensitive="yes">
      <marker>
        <token regexp="yes" postag_regexp="yes" postag="noun.*?:v_naz.*">[А-ЯІЇЄҐ][а-яіїєґ'-]+
          <exception scope="previous" postag="SENT_START"/>
        </token>
        <token regexp="yes">[—–-]</token>
        <token regexp="yes" postag_regexp="yes" postag="noun.*?:v_naz.*">[А-ЯІЇЄҐ][а-яіїєґ'-]+</token>
      </marker>
    </pattern>
    <disambig action="add">
      <wd pos="&lt;prop_noun&gt;"></wd>
      <wd pos="null"></wd>
      <wd pos="&lt;/prop_noun&gt;"></wd>
    </disambig>
    <example type="ambiguous" 
        inputform="Україна[Україна/noun:inanim:f:v_naz:prop:geo]"
        outputform="Україна[Україна/&lt;prop_noun&gt;,Україна/noun:inanim:f:v_naz:prop:geo]">На <marker>Україна</marker> - Іспанія</example>
    <example type="untouched">Україна - Іспанія</example>
    <example type="untouched">На Україна та Іспанія</example>
    <example type="untouched">червоне - зелене</example>
  </rule>

  <rule name="Лютого" id="LYUTYI">
    <pattern>
      <token regexp="yes">[1-9]|[12][0-9]|[12]?[0-9][—–-][12]?[0-9]</token>
      <marker>
        <token>лютого</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun.*"/>
    <example type="ambiguous" 
        inputform="лютого[&lt;/S&gt;,лютий/adj:m:v_rod:compb,лютий/adj:m:v_zna:ranim:compb,лютий/adj:n:v_rod:compb,лютий/noun:inanim:m:v_rod]"
        outputform="лютого[&lt;/S&gt;,лютий/noun:inanim:m:v_rod]">23 <marker>лютого</marker></example>
    <example type="untouched">такого лютого морозу</example>
  </rule>

  <rule name="Лютого2" id="LYUTYI2">
    <pattern>
      <marker>
        <token inflected="yes">лютий</token>
      </marker>
      <token regexp="yes">[0-9]+</token>
    </pattern>
    <disambig action="filter" postag="noun.*"/>
    <example type="ambiguous" 
        inputform="лютому[лютий/adj:m:v_dav:compb,лютий/adj:m:v_mis:compb,лютий/adj:n:v_dav:compb,лютий/adj:n:v_mis:compb,лютий/noun:inanim:m:v_dav,лютий/noun:inanim:m:v_mis]"
        outputform="лютому[лютий/noun:inanim:m:v_dav,лютий/noun:inanim:m:v_mis]">в <marker>лютому</marker> 2014</example>
    <example type="untouched">лютого морозу</example>
  </rule>

  <rule name="Чайна" id="chayna">
    <pattern>
      <marker>
        <token inflected="yes">чайна</token>
      </marker>
      <token inflected="yes" regexp="yes">ложка|сервіз|церемонія|кущ|троянда|заварка|запарка</token>
    </pattern>
    <disambig action="filter" postag="adj.*"/>
    <example type="ambiguous"
        inputform="чайній[чайна/noun:inanim:f:v_dav,чайна/noun:inanim:f:v_mis,чайний/adj:f:v_dav,чайний/adj:f:v_mis]"
        outputform="чайній[чайний/adj:f:v_dav,чайний/adj:f:v_mis]">на <marker>чайній</marker> церемонії</example>
    <example type="untouched">меню чайних і ресторанів</example>
  </rule>

  <rule name="Прикметники без порівняльного ступеня" id="NON_COMPARATIVE">
    <pattern>
      <marker>
        <token inflected="yes">великий</token>
      </marker>
      <token inflected="yes">князь</token>
    </pattern>
    <disambig><match no="1" postag="adj(.*):compb(.*)" postag_regexp="yes" postag_replace="adj$1$2"/></disambig>
    <example type="ambiguous" 
        inputform="великий[великий/adj:m:v_kly:compb,великий/adj:m:v_naz:compb,великий/adj:m:v_zna:rinanim:compb]" 
        outputform="великий[великий/adj:m:v_kly,великий/adj:m:v_naz,великий/adj:m:v_zna:rinanim]"><marker>великий</marker> князь</example>
    <example type="untouched">великий вибух</example>
  </rule>

  <rule name="Прийменник до і іменник до" id="DIS_PREP_OR_NOUN_DO">
    <pattern>
      <marker>
        <token postag="prep">до</token>
      </marker>
      <token>
        <exception inflected="yes" regexp="yes">ре|мажор|мінор|дієз|бемоль</exception>
      </token>
    </pattern>
    <disambig action="filter" postag="prep.*|.*adv.*|&lt;.*"/>
    <example type="ambiguous" 
        inputform="до[до/noun:inanim:n:v_dav:nv,до/noun:inanim:n:v_mis:nv,до/noun:inanim:n:v_naz:nv,до/noun:inanim:n:v_oru:nv,до/noun:inanim:n:v_rod:nv,до/noun:inanim:n:v_zna:nv,до/noun:inanim:p:v_dav:nv,до/noun:inanim:p:v_mis:nv,до/noun:inanim:p:v_naz:nv,до/noun:inanim:p:v_oru:nv,до/noun:inanim:p:v_rod:nv,до/noun:inanim:p:v_zna:nv,до/prep]"
        outputform="до[до/prep]"><marker>до</marker> паркану</example>
    <example type="untouched">до мажор</example>
    <example type="untouched">до ре мі</example>
    <!-- captilized До is disambiguated into noun above -->
    <example type="untouched">класи <marker>До</marker> міжнародного</example>
  </rule>

  <rule name="Займенник та і сполучник/частка та" id="PRON_OR_CONJ_TA">
    <pattern>
      <marker>
        <token>та</token>
      </marker>
      <token>
        <exception postag_regexp="yes" postag="(noun.*?|adj):f:v_naz.*"/>
        <exception regexp="yes">[йі]</exception>
      </token>
    </pattern>
    <disambig action="filter" postag="conj.*|part.*"/>
    <example type="ambiguous" 
        inputform="та[та/conj:coord,та/part,той/adj:f:v_naz:&amp;pron:dem]"
        outputform="та[та/conj:coord,та/part]">садки <marker>та</marker> ясла</example>
    <example type="untouched">та жінка</example>
    <example type="untouched">та й інша</example>
    <example type="untouched">та сама фігура</example>
    <example type="untouched">та зелена спідниця</example>
  </rule>

  <rule name="Іменник та числівник сорока" id="DIS_NOUN_AND_NUMR_40">
    <pattern>
      <token regexp="yes">до|мінус|плюс|приблизно</token>
      <marker>
        <token regexp="yes">сорока|п'яти</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="numr.*"/>
    <example type="ambiguous"
        inputform="сорока[&lt;/S&gt;,сорок/numr:p:v_dav,сорок/numr:p:v_mis,сорок/numr:p:v_oru,сорок/numr:p:v_rod,сорок/numr:p:v_zna,сорока/noun:anim:f:v_naz]"
        outputform="сорока[&lt;/S&gt;,сорок/numr:p:v_dav,сорок/numr:p:v_mis,сорок/numr:p:v_oru,сорок/numr:p:v_rod,сорок/numr:p:v_zna]"
            >до мінус <marker>сорока</marker></example>
    <example type="untouched">полетіла сорока</example>
    <!--  TODO:
    <example type="untouched">приклав до п'яти</example>
    -->
  </rule>

  <rulegroup name="Прийменник та вигук о" id="DIS_PREP_AND_INTJ_O">
    <rule>
      <pattern>
        <marker>
          <token>о</token>
        </marker>
        <token postag_regexp="yes" postag=".*(v_zna|v_mis).*"/>
      </pattern>
      <disambig action="filter" postag="prep.*"/>
      <example type="ambiguous"
          inputform="о[о/intj,о/prep]"
          outputform="о[о/prep]"
              >шарпнув <marker>о</marker> двері</example>
      <example type="untouched">о, люди!</example>
      <example type="untouched">о мамо!</example>
    </rule>
    <rule>
      <pattern>
        <marker>
          <token>о</token>
        </marker>
        <token regexp="yes">[,!]|ти|ви</token>
      </pattern>
      <disambig postag="intj"/>
      <example type="ambiguous"
          inputform="о[о/intj,о/prep]"
          outputform="о[о/intj]"
              ><marker>о</marker>, море!</example>
      <example type="ambiguous"
          inputform="о[о/intj,о/prep]"
          outputform="о[о/intj]"
              ><marker>о</marker> ти!</example>
      <example type="untouched">грюкнув о двері</example>
    </rule>
    <rule>
      <pattern>
        <marker>
          <token>о</token>
        </marker>
        <token postag_regexp="yes" postag="adj.*" min="0"/>
        <token postag_regexp="yes" postag=".*v_kly.*"/>
      </pattern>
      <disambig postag="intj"/>
      <example type="ambiguous"
          inputform="о[о/intj,о/prep]"
          outputform="о[о/intj]"
              ><marker>о</marker> люди!</example>
      <example type="ambiguous"
          inputform="о[о/intj,о/prep]"
          outputform="о[о/intj]"
              ><marker>о</marker> бідні люди!</example>
      <example type="untouched">грюкнув о двері</example>
    </rule>
    <rule>
      <pattern>
        <marker>
          <and>
            <token postag="intj">о</token>
            <token postag_regexp="yes" postag="prep.*">о</token>
          </and>
        </marker>
        <!--
          <token postag_regexp="yes" postag=".*(v_naz|v_rod|v_dav|v_oru).*"/>
        -->
      </pattern>
      <disambig action="filter" postag="prep.*"/>
      <example type="ambiguous"
          inputform="о[о/intj,о/prep]"
          outputform="о[о/prep]"
              >стусонув <marker>о</marker> двері</example>
      <example type="ambiguous"
          inputform="о[о/intj,о/prep]"
          outputform="о[о/prep]"
              ><marker>о</marker> тримати</example> <!-- treat prep/intj + verb as prep + verb so we can trigger error -->
    </rule>
  </rulegroup>

  <rulegroup id="fname_vkly" name="кличний для імен">
    <rule>
      <antipattern>
        <token postag_regexp="yes" postag="verb.*?:impr:.:2.*"/>
        <token>,</token>
        <token postag_regexp="yes" postag="noun:anim:.:v_kly.*?:fname.*"/>
      </antipattern>
      <antipattern>
        <token postag_regexp="yes" postag="noun:anim:.:v_kly.*?:fname.*"/>
        <token>,</token>
        <token postag_regexp="yes" postag="verb.*?:impr:.:2.*"/>
      </antipattern>
      <antipattern>
        <token postag_regexp="yes" postag="adj:.:v_kly.*" regexp="yes" inflected="yes">.*шановний|.*поважний|дорог(еньк)?ий</token>
        <token min="0" max="5">
          <exception postag_regexp="yes" postag="noun:anim:.:v_kly.*?:fname.*"/>
          <exception postag_regexp="yes" postag="verb.*|(adj|noun)(?!.*v_kly).*"/>
        </token>
        <token postag_regexp="yes" postag="noun:anim:.:v_kly.*?:fname.*"/>
      </antipattern>
      <antipattern>
        <token>,</token>
        <token postag_regexp="yes" postag="adj:.:v_kly.*" regexp="yes"/>
        <token postag_regexp="yes" postag="noun:anim:.:v_kly.*?:fname.*"/>
        <token>,</token>
      </antipattern>
      <pattern>
        <marker>
          <and>
            <token postag_regexp="yes" postag="noun:anim:.:v_kly.*?:fname.*">
            <!--
              <exception scope="previous" postag_regexp="yes" postag="verb.*?:impr:.:2.*"/>
            -->
              <exception scope="next" regexp="yes">!{1,3}</exception>
            </token>
            <token postag_regexp="yes" postag="noun:anim:.:v_(?!kly).*?:fname.*"/>
          </and>
        </marker>
      </pattern>
      <disambig action="remove" postag="noun:anim:.:v_kly.*?:fname.*"/>
      <example type="ambiguous"
          inputform="Олегу[Олег/noun:anim:m:v_dav:prop:fname,Олег/noun:anim:m:v_kly:prop:fname,Олег/noun:anim:m:v_mis:prop:fname]"
          outputform="Олегу[Олег/noun:anim:m:v_dav:prop:fname,Олег/noun:anim:m:v_mis:prop:fname]"
              ><marker>Олегу</marker> Ляшко це не сподобалося</example>
      <example type="untouched">Дивись, Олегу, ...</example>
      <example type="untouched">Марусю, зрозумій</example>
      <example type="untouched">Слухай, Маріє Поліщук!</example>
      <example type="untouched">Олегу!</example>
      <example type="untouched">Олеже</example>
      <example type="untouched">Ти для нас, зухвалий Лесю,</example>
      <example type="untouched">Шановний Арсенію Петровичу!</example>
      <example type="untouched">Шановний пане Андрію Садовий</example>
      <!-- TODO:
      <example type="untouched">Шановні Арсенію Кравчук, Ігорю Марков!</example>
      <example type="untouched">Сергію Нігоян, спасибі за все</example>
      -->
    </rule>
  </rulegroup>

  <rulegroup id="lname_vkly" name="кличний для прізвищ">
    <rule>
      <pattern>
        <marker>
          <and>
            <token postag_regexp="yes" postag="noun:anim:.:v_kly.*?:lname.*">
              <exception scope="next" regexp="yes">!{1,3}</exception>
            </token>
            <token postag_regexp="yes" postag="noun:anim:.:v_(?!kly).*?:lname.*"/>
          </and>
        </marker>
      </pattern>
      <disambig action="remove" postag="noun:anim:.:v_kly.*?:lname.*"/>
      <example type="ambiguous"
          inputform="Петровський[Петровський/noun:anim:m:v_kly:prop:lname,Петровський/noun:anim:m:v_naz:prop:lname,петровський/adj:m:v_kly,петровський/adj:m:v_naz,петровський/adj:m:v_zna:rinanim]"
          outputform="Петровський[Петровський/noun:anim:m:v_naz:prop:lname,петровський/adj:m:v_kly,петровський/adj:m:v_naz,петровський/adj:m:v_zna:rinanim]"
              ><marker>Петровський</marker> пішов</example>
      <example type="ambiguous"
          inputform="Максименку[Максименко/noun:anim:m:v_dav:prop:lname,Максименко/noun:anim:m:v_kly:prop:lname,Максименко/noun:anim:m:v_mis:prop:lname]"
          outputform="Максименку[Максименко/noun:anim:m:v_dav:prop:lname,Максименко/noun:anim:m:v_mis:prop:lname]"
              ><marker>Максименку</marker> пощастило</example>
      <example type="untouched">Петровський!</example>
      <example type="untouched">Максименку!</example>
      <example type="untouched">Романишине</example>
    </rule>
  </rulegroup>


  <!--
  <rule name="Прийменник/прислівник перед дієсловом — прислівник" id="DIS_PREP_ADV_BEFORE_VERB">
    <pattern>
          <and>
      <token postag_regexp="yes" postag="adv.*"/>
      <token postag_regexp="yes" postag="prep.*"/>
          </and>
      <token postag_regexp="yes" postag="verb.*"/>
    </pattern>
    <disambig><match no="1" postag="adv.*" postag_regexp="yes" /></disambig>
    <example type="ambiguous" 
        inputform="попереду[попереду/adv,попереду/prep]" 
        outputform="попереду[попереду/adv]"><marker>попереду</marker> поїхав</example>
    <example type="untouched">попереду поїзда</example>
  </rule>
  <rule name="Прийменник/прислівник перед іменником — прийменник" id="DIS_PREP_ADV_BEFORE_NOUN">
    <pattern>
          <and>
      <token postag_regexp="yes" postag="adv.*"/>
      <token postag_regexp="yes" postag="prep.*"/>
          </and>
      <token postag_regexp="yes" postag="noun.*"/>
    </pattern>
    <disambig><match no="1" postag="prep.*" postag_regexp="yes" /></disambig>
    <example type="ambiguous" 
        inputform="попереду[попереду/adv,попереду/prep]" 
        outputform="попереду[попереду/prep]"><marker>попереду</marker> поїзда</example>
    <example type="untouched">попереду поїхав</example>
  </rule>
  -->

  <rule name="Прийменник та прислівник 'після'" id="PREP_OR_ADV_PISLIA">
    <pattern>
      <marker>
        <token>після</token>
      </marker>
      <token postag_regexp="yes" postag="adj:.:v_rod.*" min="0"/>
      <token postag_regexp="yes" postag="(noun|numr).*?:v_rod.*"/>
    </pattern>
    <disambig action="filter" postag="prep.*"/>
    <example type="ambiguous"
        inputform="після[після/adv,після/prep]"
        outputform="після[після/prep]"
            ><marker>після</marker> століть поневолення</example>
    <example type="untouched">Ото завше так — як сперва дуже весело, то після будеш плакать</example>
  </rule>


  <!-- TODO: need to handle rare поруч[поруччя/noun:inanim:p:v_rod] -->
  <rule name="Прийменник та прислівник 'поруч'" id="PREP_OR_ADV_PORUCH_1">
    <pattern>
      <marker>
        <token>поруч</token>
      </marker>
      <token regexp="yes">з|із|зі</token>
      <token postag_regexp="yes" postag="adj:.:v_oru*" min="0"/>
      <token postag_regexp="yes" postag="(noun|numr).*:v_oru.*"/>
    </pattern>
    <disambig action="filter" postag="prep.*"/>
    <example type="ambiguous"
        inputform="поруч[поруч/adv,поруч/prep,поруччя/noun:inanim:p:v_rod]"
        outputform="поруч[поруч/prep]"
            >пливти <marker>поруч</marker> із судном</example>
    <example type="untouched">пливти поруч</example>
  </rule>

  <rule name="Прийменник та прислівник 'поруч'" id="PREP_OR_ADV_PORUCH_2">
    <pattern>
      <marker>
        <token>поруч</token>
      </marker>
      <token postag_regexp="yes" postag="adj:.:v_rod.*" min="0"/>
      <token postag_regexp="yes" postag="(noun|numr).*:v_rod.*"/>
    </pattern>
    <disambig action="filter" postag="prep.*"/>
    <example type="ambiguous"
        inputform="поруч[поруч/adv,поруч/prep,поруччя/noun:inanim:p:v_rod]"
        outputform="поруч[поруч/prep]"
            >поставив відро <marker>поруч</marker> стільця</example>
    <example type="untouched">пливти поруч</example>
  </rule>

  <rule name="Прийменник та прислівник 'відповідно'" id="PREP_OR_ADV_VIDPOVIDNO_1">
    <pattern>
      <marker>
        <token>відповідно</token>
      </marker>
      <token regexp="yes">[,;:–—.!?»“…-]</token>
    </pattern>
    <disambig action="filter" postag="adv.*"/>
    <example type="ambiguous"
        inputform="Відповідно[відповідно/adv:compb,відповідно/prep]"
        outputform="Відповідно[відповідно/adv:compb]"
            ><marker>Відповідно</marker>, цей газ був спільним</example>
    <example type="untouched">відповідно до тих обставин</example>
  </rule>

  <rule name="Прийменник та прислівник 'відповідно'" id="PREP_OR_ADV_VIDPOVIDNO_2">
    <pattern>
      <marker>
        <token>відповідно</token>
      </marker>
      <token>до</token>
      <token postag_regexp="yes" postag="adj:.:v_rod.*" min="0"/>
      <token postag_regexp="yes" postag="(noun|numr).*:v_rod.*"/>
    </pattern>
    <disambig action="filter" postag="prep.*"/>
    <example type="ambiguous"
        inputform="відповідно[відповідно/adv:compb,відповідно/prep]"
        outputform="відповідно[відповідно/prep]"
            ><marker>відповідно</marker> до тих обставин</example>
    <example type="untouched">Він налягав, щоб вона й одяглася відповідно.</example>
  </rule>

  <rule name="Прийменник та прислівник 'відповідно'" id="PREP_OR_ADV_VIDPOVIDNO_3">
    <pattern>
      <marker>
        <token>відповідно</token>
      </marker>
      <token postag_regexp="yes" postag="adj:.:v_dav.*" min="0"/>
      <token postag_regexp="yes" postag="(noun|numr).*:v_dav.*"/>
    </pattern>
    <disambig action="filter" postag="prep.*"/>
    <example type="ambiguous"
        inputform="відповідно[відповідно/adv:compb,відповідно/prep]"
        outputform="відповідно[відповідно/prep]"
            >Переписав <marker>відповідно</marker> словам</example>
    <example type="untouched">Він налягав, щоб вона й одяглася відповідно.</example>
  </rule>

  <rule name="Прийменник та іменник 'серед'" id="PREP_OR_NOUN_SERED_2">
    <pattern>
      <marker>
        <token>серед</token>
      </marker>
      <token postag_regexp="yes" postag="(noun|numr|adj).*?:v_rod.*"/>
    </pattern>
    <disambig action="filter" postag="prep.*"/>
    <example type="ambiguous" 
        inputform="серед[серед/prep,середа/noun:inanim:p:v_rod]"
        outputform="серед[серед/prep]"
            ><marker>серед</marker> степу</example>
    <example type="untouched">Валько боявся тих серед.</example>
  </rule>

  <rule name="Прийменник та дієслово 'при'" id="PREP_OR_VERB_PRY">
    <pattern>
      <marker>
        <token>при</token>
      </marker>
      <token postag_regexp="yes" postag="adj.*" min="0"/>
      <token postag_regexp="yes" postag="noun.*?:v_mis.*"></token>
    </pattern>
    <disambig action="filter" postag="prep.*"/>
    <example type="ambiguous"
        inputform="при[перти/verb:imperf:impr:s:2,при/prep]"
        outputform="при[при/prep]"
            >очі їй засвітились <marker>при</marker> згадці про свого штурманця</example>
    <example type="untouched">Давай! При в ту сторону!</example>
  </rule>

  <rule name="Не наказова форма дієслова" id="not_an_imperative">
    <pattern>
      <token postag_regexp="yes" postag="(adj|prep|num).*"/>
      <marker>
        <and>
          <token postag_regexp="yes" postag="verb.*?impr.*"/>
          <token postag_regexp="yes" postag="(noun|adj).*"/>
        </and>
      </marker>
    </pattern>
    <disambig action="remove" postag="verb.*?impr.*"/>
    <example type="ambiguous"
        inputform="посади[посад/noun:inanim:p:v_naz,посад/noun:inanim:p:v_zna,посада/noun:inanim:f:v_rod,посада/noun:inanim:p:v_naz,посада/noun:inanim:p:v_zna,посадити/verb:perf:impr:s:2]"
        outputform="посади[посад/noun:inanim:p:v_naz,посад/noun:inanim:p:v_zna,посада/noun:inanim:f:v_rod,посада/noun:inanim:p:v_naz,посада/noun:inanim:p:v_zna]"
            >минулі <marker>посади</marker>.</example>
    <example type="untouched">Піди посади картоплю!</example>
  </rule>

  <rule name="Сполучник та частка 'а'" id="CONJ_OR_PART_A">
    <pattern>
      <token min="0">,</token>
      <marker>
        <token>а</token>
      </marker>
      <token>?</token>
    </pattern>
    <disambig action="filter" postag="part"/>
    <example type="ambiguous"
        inputform="а[а/conj:coord,а/intj,а/part]"
        outputform="а[а/part]"
        >Йдемо гуляти, <marker>а</marker>?</example>
    <example type="untouched">Його пальці заніміли, а вся земля була просякнута піною.</example>
  </rule>

  <rule name="Сполучник та частка 'а'" id="CONJ_OR_PART_A_2">
    <pattern>
      <token>,</token>
      <marker>
        <token>а</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="conj.*"/>
    <example type="ambiguous"
        inputform="а[а/conj:coord,а/intj,а/part]"
        outputform="а[а/conj:coord]"
        >Його пальці заніміли, <marker>а</marker> вся земля була просякнута піною.</example>
    <example type="untouched">А, і ви тут!</example>
  </rule>

  <rule name="Сполучник та вигук 'але'" id="CONJ_OR_INTJ_ALE">
    <pattern>
      <marker>
        <token>але</token>
      </marker>
      <token>!</token>
    </pattern>
    <disambig action="filter" postag="intj"/>
    <example type="ambiguous"
        inputform="але[але/conj:coord,але/intj,але/part:rare]"
        outputform="але[але/intj]"
        >Ото <marker>але</marker>!</example>
    <example type="untouched">Степанко ходив у ліщину по горішки, але хтось уже обібрав кущі.</example>
  </rule>

  <rule name="Прийменник та прислівник 'за'" id="PREP_OR_ADV_ZA">
    <pattern>
      <marker>
        <token>за</token>
      </marker>
      <!-- <and> -->
      <token negate="yes" regexp="yes">["»,.ій]|та</token>
      <!-- <token skip="-1"><exception>проти</exception></token>
        </and>
      -->
    </pattern>
    <disambig action="filter" postag="prep.*|&lt;.*"/>
    <example type="ambiguous"
        inputform="за[за/adv,за/prep]"
        outputform="за[за/prep]"
        >Потрапляти <marker>за</marker> грати.
      </example>
    <example type="untouched">Всі проголосували за.</example>
    <example type="untouched">Тетяна розуміла, чому Малий не виступає ні за, ні проти.</example>
    <example type="untouched">Зважити, обдумати всі за і всі проти.</example>
  </rule>

  <rule name="Дієслово та частка 'дер'" id="VERB_OR_PART_DER_1">
    <pattern>
      <token regexp="yes">ван|фон</token>
      <marker>
        <token>дер</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="part:pers"/>
    <example type="ambiguous"
        inputform="дер[дер/part:pers,дерти/verb:imperf:past:m]"
        outputform="дер[дер/part:pers]"
            >для ван <marker>дер</marker> Вала</example>
    <example type="untouched">В Ван приїхав султан.</example>
  </rule>

  <rule name="Дієслово та частка 'дер'" id="VERB_OR_PART_DER_2">
    <pattern>
      <marker>
        <token>дер</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="verb:imperf:past:m"/>
    <example type="ambiguous"
        inputform="дер[дер/part:pers,дерти/verb:imperf:past:m]"
        outputform="дер[дерти/verb:imperf:past:m]"
            >і <marker>дер</marker> Галі в горлі</example>
    <example type="untouched">В Ван приїхав султан.</example>
  </rule>

  <rule name="Іменник та частка 'ван'" id="NOUN_OR_PART_VAN">
    <pattern>
      <marker>
        <token>ван</token>
      </marker>
      <token postag_regexp="yes" postag="noun.*?:lname.*"/>
    </pattern>
    <disambig action="filter" postag="part.*"/>
    <example type="ambiguous"
        inputform="Ван[Ван/noun:inanim:m:v_naz:prop:geo:xp1,Ван/noun:inanim:m:v_naz:prop:geo:xp2,Ван/noun:inanim:m:v_zna:prop:geo:xp1,Ван/noun:inanim:m:v_zna:prop:geo:xp2,ван/part:pers]"
        outputform="Ван[ван/part:pers]"
            >для <marker>Ван</marker> Гаала</example>
    <example type="untouched">В Ван приїхав султан.</example>
  </rule>

  <!-- TODO: this rule may be a bit too greedy, but most of the time it's right -->
  <rule name="Іменник та прикметник «робочий»" id="NOUN_OR_ADJ_ROBOCHYI">
    <pattern>
      <unify>
        <feature id="gender"/>
        <feature id="case"/>

        <marker>
          <token inflected="yes">робочий</token>
        </marker>
        <token postag_regexp="yes" postag="noun:inanim.*"/>
        <!-- stricter
          <token regexp="yes" inflected="yes" postag_regexp="yes" postag="noun:inanim.*">день|сила|група|місце|час|зустріч|рука</token>
        -->
      </unify>
    </pattern>
    <disambig action="filter" postag="adj.*"/>
    <example type="ambiguous"
        inputform="робочий[робочий/adj:m:v_kly,робочий/adj:m:v_naz,робочий/adj:m:v_zna:rinanim,робочий/noun:anim:m:v_kly,робочий/noun:anim:m:v_naz]"
        outputform="робочий[робочий/adj:m:v_kly,робочий/adj:m:v_naz,робочий/adj:m:v_zna:rinanim]"
            >Прийшов у <marker>робочий</marker> кабінет.</example>
    <example type="untouched">Робочий не хотів працювати.</example>
  </rule>

  <!-- TODO: this rule may be a bit too greedy, but most of the time it's right -->
  <rule name="Рік і рок 1" id="RIK_VS_ROK_1">
    <pattern>
      <token regexp="yes">[12][0-9]{3}</token>
      <marker>
        <token>року</token>
      </marker>
    </pattern>
    <disambig action="filter"><match no="1">рік</match></disambig>
    <example type="ambiguous"
        inputform="року[рок/noun:inanim:m:v_dav,рок/noun:inanim:m:v_mis,рок/noun:inanim:m:v_rod,рік/noun:inanim:m:v_dav,рік/noun:inanim:m:v_mis,рік/noun:inanim:m:v_rod]"
        outputform="року[рік/noun:inanim:m:v_dav,рік/noun:inanim:m:v_mis,рік/noun:inanim:m:v_rod]"
            >з 2003 <marker>року</marker>.</example>
    <example type="untouched">від класичної та етнічної до авангардного року.</example>
    <example type="untouched">позаминулого року.</example>
  </rule>

  <rule name="Рік і рок 2" id="RIK_VS_ROK_2">
    <pattern>
      <token regexp="yes">(поза)?минулого|цього|наступного</token>
      <marker>
        <token>року</token>
      </marker>
    </pattern>
    <disambig action="filter"><match no="1" postag="noun:inanim:m:v_rod">рік</match></disambig>
    <example type="ambiguous"
        inputform="року[рок/noun:inanim:m:v_dav,рок/noun:inanim:m:v_mis,рок/noun:inanim:m:v_rod,рік/noun:inanim:m:v_dav,рік/noun:inanim:m:v_mis,рік/noun:inanim:m:v_rod]"
        outputform="року[рік/noun:inanim:m:v_rod]"
            >з грудня минулого <marker>року</marker>.</example>
    <example type="untouched">від класичної та етнічної до авангардного року.</example>
    <example type="untouched">з 2003 року.</example>
  </rule>

  <rule name="Як" id="JAK">
    <pattern>
      <marker>
        <token regexp="yes">як[ау]?
          <exception scope="previous" inflected="yes" regexp="yes">дикий|свійський|домашній</exception>
          <exception scope="next" inflected="yes" regexp="yes">дикий|свійський|домашній</exception>
        </token>
      </marker>
    </pattern>
    <disambig action="remove" postag="noun:anim:m:v_..."/>
    <example type="ambiguous"
        inputform="як[як/adv:&amp;pron:int:rel,як/conj:subord,як/noun:anim:m:v_naz,як/part]"
        outputform="як[як/adv:&amp;pron:int:rel,як/conj:subord,як/part]"
            >і <marker>як</marker> верховний арбітр.</example>
    <example type="ambiguous"
        inputform="Як[як/adv:&amp;pron:int:rel,як/conj:subord,як/noun:anim:m:v_naz,як/part]"
        outputform="Як[як/adv:&amp;pron:int:rel,як/conj:subord,як/part]"
        ><marker>Як</marker> модернізм і тепер постмодернізм</example>
    <example type="ambiguous"
        inputform="яку[як/noun:anim:m:v_dav,як/noun:anim:m:v_mis,який/adj:f:v_zna:&amp;pron:int:rel:def]"
        outputform="яку[який/adj:f:v_zna:&amp;pron:int:rel:def]"
            >в <marker>яку</marker> він влетів.</example>
    <example type="ambiguous"
        inputform="Яка[як/noun:anim:m:v_rod,як/noun:anim:m:v_zna,який/adj:f:v_naz:&amp;pron:int:rel:def]"
        outputform="Яка[який/adj:f:v_naz:&amp;pron:int:rel:def]"
            >— <marker>Яка</marker> рабиня?</example>
    <example type="untouched">Дикий як — гірська тварина.</example>
  </rule>

  <rule name="Відома - іменник" id="vidoma-noun1">
    <pattern>
      <token regexp="yes">без|до|з|із|для|з-під</token>
      <token postag_regexp="yes" postag="adj:.:v_rod.*?:&amp;pron.*"/>
      <marker>
        <token>відома</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun:inanim:m:v_rod.*"/>
    <example type="ambiguous"
        inputform="відома[відом/noun:inanim:m:v_rod,відомий/adj:f:v_kly:compb,відомий/adj:f:v_naz:compb]"
        outputform="відома[відом/noun:inanim:m:v_rod]"
            >без мого <marker>відома</marker>.</example>
    <example type="untouched">відома співачка.</example>
    <example type="untouched">без малого відома співачка.</example>
  </rule>

  <rule name="Відома - іменник" id="vidoma-noun2">
    <pattern>
      <token regexp="yes">без|до|з|із|для|з-під</token>
      <marker>
        <token>відома</token>
      </marker>
      <!--
      <token postag_regexp="yes" postag="noun.*?:v_rod.*"/>
      -->
    </pattern>
    <disambig action="filter" postag="noun:inanim:m:v_rod.*"/>
    <example type="ambiguous"
        inputform="відома[відом/noun:inanim:m:v_rod,відомий/adj:f:v_kly:compb,відомий/adj:f:v_naz:compb]"
        outputform="відома[відом/noun:inanim:m:v_rod]"
            >без <marker>відома</marker> банку.</example>
    <example type="ambiguous"
        inputform="відома[відом/noun:inanim:m:v_rod,відомий/adj:f:v_kly:compb,відомий/adj:f:v_naz:compb]"
        outputform="відома[відом/noun:inanim:m:v_rod]"
            >поставити до <marker>відома</marker> про цей факт.</example>
    <example type="untouched">така відома співачка.</example>
  </rule>

  <rule name="Відома - іменник" id="vidoma-noun3">
    <pattern>
      <token>без</token>
      <token postag_regexp="yes" postag="noun.*?:v_rod.*"/>
      <token regexp="yes">і|та|й</token>
      <marker>
        <token>відома</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun:inanim:m:v_rod.*"/>
    <example type="ambiguous"
        inputform="відома[відом/noun:inanim:m:v_rod,відомий/adj:f:v_kly:compb,відомий/adj:f:v_naz:compb]"
        outputform="відома[відом/noun:inanim:m:v_rod]"
            >без команди та <marker>відома</marker> менеджера.</example>
    <example type="untouched">така відома співачка.</example>
  </rule>

  <rule name="Відома - прикметник" id="vidoma-adj">
    <pattern>
      <marker>
        <token postag_regexp="yes" postag="adj.*">відома</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="adj.*"/>
    <example type="ambiguous"
        inputform="відома[відом/noun:inanim:m:v_rod,відомий/adj:f:v_kly:compb,відомий/adj:f:v_naz:compb]"
        outputform="відома[відомий/adj:f:v_kly:compb,відомий/adj:f:v_naz:compb]"
            > без малого <marker>відома</marker> співачка.</example>
    <example type="untouched">без мого відома.</example>
  </rule>

  <rule name="В Україні" id="V_UKRAYINI">
    <pattern>
      <token regexp="yes">в|на</token>
      <marker>
        <token>Україні</token>
      </marker>
    </pattern>
    <disambig postag="noun:inanim:f:v_mis:prop:geo"/>
    <example type="ambiguous"
        inputform="Україні[Україна/noun:inanim:f:v_dav:prop:geo,Україна/noun:inanim:f:v_mis:prop:geo]"
        outputform="Україні[Україна/noun:inanim:f:v_mis:prop:geo]"
            >в <marker>Україні</marker>.</example>
    <example type="untouched">принесли Україні.</example>
  </rule>

  <rule name="В Києві" id="V_KYJEVI">
    <pattern>
      <token regexp="yes">[ву]</token>
      <marker>
        <token>Києві</token>
      </marker>
    </pattern>
    <disambig postag="noun:inanim:m:v_mis:prop:geo"/>
    <example type="ambiguous"
        inputform="Києві[Кий/noun:anim:m:v_dav:prop:fname,Кий/noun:anim:m:v_mis:prop:fname,Київ/noun:inanim:m:v_mis:prop:geo,кий/noun:inanim:m:v_dav,кий/noun:inanim:m:v_mis]"
        outputform="Києві[Київ/noun:inanim:m:v_mis:prop:geo]"
            >в <marker>Києві</marker>.</example>
    <example type="untouched">принесли Києві</example>
  </rule>

  <rule name="Київ" id="KYYIV">
    <pattern>
      <marker>
        <token case_sensitive="yes">Київ</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun:inanim:m:v_(naz|zna):prop:geo"/>
    <example type="ambiguous"
        inputform="Київ[Київ/noun:inanim:m:v_naz:prop:geo,Київ/noun:inanim:m:v_zna:prop:geo,кий/noun:inanim:p:v_rod]"
        outputform="Київ[Київ/noun:inanim:m:v_naz:prop:geo,Київ/noun:inanim:m:v_zna:prop:geo]"
            >в <marker>Київ</marker>.</example>
    <example type="untouched">принесли Києві</example>
  </rule>

  <rule name="Дієслово «дій»" id="VERB_DIY">
    <pattern>
      <marker>
        <token case_sensitive="yes">Дій</token>
      </marker>
      <token regexp="yes" min="0">["“»]</token>
      <token regexp="yes">[!—-]</token>
    </pattern>
    <disambig action="filter" postag="verb.*"/>
    <example type="ambiguous"
        inputform="Дій[дія/noun:inanim:p:v_rod,діяти/verb:imperf:impr:s:2]"
        outputform="Дій[діяти/verb:imperf:impr:s:2]"
        >Йому кажуть: «<marker>Дій</marker>!».
      </example>
    <example type="untouched">З усіх дій, ці треба зробити.</example>
  </rule>

  <rule name="Іменник «дій»" id="NOUN_DIY">
    <pattern>
      <marker>
        <token>дій
          <exception scope="next">!</exception>
        </token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun.*"/>
    <example type="ambiguous"
        inputform="дій[дія/noun:inanim:p:v_rod,діяти/verb:imperf:impr:s:2]"
        outputform="дій[дія/noun:inanim:p:v_rod]"
        >Сума <marker>дій</marker> дорівнює нулю.</example>
    <example type="untouched">Йди і дій!</example>
  </rule>

  <rule name="Іменник «води»" id="NOUN_VODY">
    <pattern>
      <marker>
        <token>води
          <exception scope="next" postag_regexp="yes" postag="noun.*?v_rod.*?&amp;pron.*"/>
        </token>
      </marker>
      <!-- we can now do scope="next" 
      <token><exception postag_regexp="yes" postag="noun.*?v_rod.*?&amp;pron.*"/></token>
       -->
    </pattern>
    <disambig action="filter" postag="noun.*"/>
    <example type="ambiguous"
        inputform="води[вода/noun:inanim:f:v_rod,вода/noun:inanim:p:v_naz,вода/noun:inanim:p:v_zna,водити/verb:imperf:impr:s:2]"
        outputform="води[вода/noun:inanim:f:v_rod,вода/noun:inanim:p:v_naz,вода/noun:inanim:p:v_zna]"
        >Не стало <marker>води</marker> у річці.
    </example>
    <example type="ambiguous"
        inputform="води[&lt;/S&gt;,вода/noun:inanim:f:v_rod,вода/noun:inanim:p:v_naz,вода/noun:inanim:p:v_zna,водити/verb:imperf:impr:s:2]"
        outputform="води[&lt;/S&gt;,вода/noun:inanim:f:v_rod,вода/noun:inanim:p:v_naz,вода/noun:inanim:p:v_zna]"
        >Не стало <marker>води</marker>
    </example>
    <example type="untouched">не води мене колами.</example>
  </rule>

      <!-- we can now do scope="next" 
  <rule name="Іменник «води» 2" id="NOUN_VODY_2">
    <pattern>
      <marker>
        <token postag="SENT_END">води</token>
      </marker>
    </pattern>
    <disambig><match no="1" postag="noun.*" postag_regexp="yes"/></disambig>
    <example type="ambiguous"
        inputform="води[&lt;/S&gt;,вода/noun:inanim:f:v_rod,вода/noun:inanim:p:v_naz,вода/noun:inanim:p:v_zna,водити/verb:imperf:impr:s:2]"
        outputform="води[&lt;/S&gt;,вода/noun:inanim:f:v_rod,вода/noun:inanim:p:v_naz,вода/noun:inanim:p:v_zna]"
        >Не стало <marker>води</marker>
    </example>
    <example type="untouched">не води мене колами.</example>
  </rule>
  -->

  <rule name="Дієслово «тис»" id="NOUN_VERB_TYS_1">
    <pattern>
      <marker>
        <token>тис</token>
      </marker>
      <token postag_regexp="yes" postag="noun.*?v_dav.*|adj:f:v_zna.*" min="0"/>
      <token regexp="yes">рук[уи]</token>
    </pattern>
    <disambig action="filter" postag="verb.*"/>
    <example type="ambiguous"
        inputform="тис[тис/noun:inanim:m:v_naz:xp1,тис/noun:inanim:m:v_naz:xp2,тис/noun:inanim:m:v_zna:xp1,тис/noun:inanim:m:v_zna:xp2,тиснути/verb:imperf:past:m]"
        outputform="тис[тиснути/verb:imperf:past:m]"
        >Він довго <marker>тис</marker> мені руку
    </example>
    <example type="ambiguous"
        inputform="тис[тис/noun:inanim:m:v_naz:xp1,тис/noun:inanim:m:v_naz:xp2,тис/noun:inanim:m:v_zna:xp1,тис/noun:inanim:m:v_zna:xp2,тиснути/verb:imperf:past:m]"
        outputform="тис[тиснути/verb:imperf:past:m]"
        >Він все ще <marker>тис</marker> полковницьку руку
    </example>
    <example type="untouched">50 тис грн.</example>
    <example type="untouched">тис ягідний</example>
  </rule>

  <rule name="Дієслово «тис»" id="NOUN_VERB_TYS_2">
    <pattern>
      <token regexp="yes">довго|сильно|дуже|силою|щосили|різко|радо|навмисн[ое]</token>
      <marker>
        <token>тис</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="verb.*"/>
    <example type="ambiguous"
        inputform="тис[тис/noun:inanim:m:v_naz:xp1,тис/noun:inanim:m:v_naz:xp2,тис/noun:inanim:m:v_zna:xp1,тис/noun:inanim:m:v_zna:xp2,тиснути/verb:imperf:past:m]"
        outputform="тис[тиснути/verb:imperf:past:m]"
        >Він довго <marker>тис</marker> Василю Васильовичу руки
    </example>
    <example type="untouched">50 тис грн.</example>
    <example type="untouched">тис ягідний</example>
  </rule>

  <rule name="Іменник «тис»" id="NOUN_VERB_TYS_3">
    <pattern>
      <marker>
        <token>тис</token>
      </marker>
      <token>ягідний</token>
    </pattern>
    <disambig action="filter" postag="noun.*"/>
    <example type="ambiguous"
        inputform="тис[тис/noun:inanim:m:v_naz:xp1,тис/noun:inanim:m:v_naz:xp2,тис/noun:inanim:m:v_zna:xp1,тис/noun:inanim:m:v_zna:xp2,тиснути/verb:imperf:past:m]"
        outputform="тис[тис/noun:inanim:m:v_naz:xp1,тис/noun:inanim:m:v_naz:xp2,тис/noun:inanim:m:v_zna:xp1,тис/noun:inanim:m:v_zna:xp2]"
        >Зовні <marker>тис</marker> ягідний важко відрізнити від ялиці
    </example>
    <example type="untouched">50 тис грн кожному</example>
    <example type="untouched">він тис йому руку</example>
  </rule>
<!--
  <rule name="Іменник «тис» (неправильне - тисяча)" id="NOUN_VERB_TYS_6">
    <pattern>
      <token postag="number"/>
      <marker>
        <token>тис</token>
      </marker>
    </pattern>
    <disambig><match no="1" postag="noun.*" postag_regexp="yes"/></disambig>
    <example type="ambiguous"
        inputform="тис[тис/noun:inanim:m:v_naz:xp1,тис/noun:inanim:m:v_naz:xp2,тис/noun:inanim:m:v_zna:xp1,тис/noun:inanim:m:v_zna:xp2,тиснути/verb:imperf:past:m]"
        outputform="тис[тис/noun:inanim:m:v_naz:xp1,тис/noun:inanim:m:v_naz:xp2,тис/noun:inanim:m:v_zna:xp1,тис/noun:inanim:m:v_zna:xp2]"
        >60 <marker>тис</marker> грн
    </example>
    <example type="untouched">довго тис руку директору</example>
    <example type="untouched">тис, бук, ялиця</example>
  </rule>
-->
  <rule name="Іменник «чаю»" id="NOUN_VERB_CHAYU">
    <pattern>
      <marker>
        <token regexp="yes">ча[юї]
          <exception scope="previous">не</exception>
        </token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun.*"/>
    <example type="ambiguous"
        inputform="чаю[&lt;/S&gt;,чай/noun:inanim:m:v_dav,чай/noun:inanim:m:v_mis,чай/noun:inanim:m:v_rod,чаїти/verb:imperf:pres:s:1]"
        outputform="чаю[&lt;/S&gt;,чай/noun:inanim:m:v_dav,чай/noun:inanim:m:v_mis,чай/noun:inanim:m:v_rod]"
        >випити <marker>чаю</marker>
    </example>
    <example type="untouched">душі не чаю в доньці</example>
  </rule>

  <rule name="Прикметник «хворій»" id="ADJ_VERB_HVORIY">
    <pattern>
      <marker>
        <token>хворій
          <exception scope="previous">не</exception>
        </token>
      </marker>
    </pattern>
    <disambig action="filter" postag="(noun|adj).*"/>
    <example type="ambiguous"
        inputform="хворій[&lt;/S&gt;,хворий/adj:f:v_dav:compb,хворий/adj:f:v_mis:compb,хворий/noun:anim:f:v_dav,хворий/noun:anim:f:v_mis,хворіти/verb:imperf:impr:s:2]"
        outputform="хворій[&lt;/S&gt;,хворий/adj:f:v_dav:compb,хворий/adj:f:v_mis:compb,хворий/noun:anim:f:v_dav,хворий/noun:anim:f:v_mis]"
        >не допомогло <marker>хворій</marker>
    </example>
    <example type="untouched">Не хворій!</example>
  </rule>

  <rule name="Іменник чи присвійний прикметник 1" id="NOUN_OR_POSSESSIVE_ADJ_1">
    <pattern>
      <token postag_regexp="yes" postag="num.*"/>
      <marker>
        <and>
          <token postag_regexp="yes" postag="noun:.*?:p:v_rod.*"/>
          <token postag_regexp="yes" postag="adj:m:v_naz.*" regexp="yes">.*[ії]в</token>
        </and>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun.*"/>
    <example type="ambiguous"
        inputform="лікарів[лікар/noun:anim:p:v_rod,лікар/noun:anim:p:v_zna,лікарів/adj:m:v_kly,лікарів/adj:m:v_naz,лікарів/adj:m:v_zna:rinanim]"
        outputform="лікарів[лікар/noun:anim:p:v_rod,лікар/noun:anim:p:v_zna]"
        >1023 <marker>лікарів</marker>.
    </example>
    <example type="untouched">Лікарів підхід був простий.</example>
  </rule>

  <rule name="Мирного атому" id="myrnoho_atomu">
    <pattern>
      <token regexp="yes">мирного|військового|воєнного|немирного</token>
      <marker>
        <token>атому</token>
      </marker>
    </pattern>
    <disambig postag="noun:inanim:m:v_rod"/>
    <example type="ambiguous"
        inputform="атому[атом/noun:inanim:m:v_dav,атом/noun:inanim:m:v_mis]"
        outputform="атому[атом/noun:inanim:m:v_rod]"
            >мирного <marker>атому</marker>.</example>
    <example type="untouched">по атому</example>
  </rule>

  <rule name="Геологічна світа" id="svita_svitu">
    <pattern>
      <token postag="SENT_START" skip="-1"><exception scope="next" inflected="yes" regexp="yes">геолог.*|порода|родовище</exception></token>
      <marker>
        <token skip="-1" inflected="yes">світа
          <exception scope="previous" regexp="yes">.*[цс]ьк(а|ої|ій|ою)</exception>
          <exception scope="next" inflected="yes" regexp="yes">геолог.*|порода|родовище</exception>
        </token>
        <token postag="SENT_END"><exception scope="current" inflected="yes" regexp="yes">геолог.*|порода|родовище</exception></token>
      </marker>
    </pattern>
    <disambig action="remove" postag="noun:inanim:f:.*"/>
    <example type="ambiguous"
        inputform="світу[світ/noun:inanim:m:v_dav,світ/noun:inanim:m:v_mis,світ/noun:inanim:m:v_rod,світа/noun:inanim:f:v_zna]"
        outputform="світу[світ/noun:inanim:m:v_dav,світ/noun:inanim:m:v_mis,світ/noun:inanim:m:v_rod]"
            >зі всього <marker>світу</marker>.</example>
    <example type="untouched">Картамиська світа</example>
    <example type="untouched">геологічна щільна світа</example>
    <example type="untouched">Світа Ратаві — іракський нафтовий горизонт — на нафтових родовищах «Ратаві» в Іраку.</example>
    <!--
    <example type="untouched">світа в геології</example>
    -->
  </rule>

  <rule name="Став: дієслово" id="stav_verb">
    <pattern>
      <marker>
        <token>став
          <exception scope="previous" regexp="yes" case_sensitive="yes">[А-ЯІЇЄҐ].*ий</exception>
          <exception scope="previous" regexp="yes">на|у|в|над|через</exception>
          <exception scope="previous" postag_regexp="yes" postag="verb.*"/>
          <exception scope="next" postag_regexp="yes" postag="verb(?!.*?inf).*"/>
        </token>
      </marker>
    </pattern>
    <disambig action="remove" postag="noun:inanim:m:v_(naz|zna)"/>
    <example type="ambiguous"
        inputform="став[став/noun:inanim:m:v_naz,став/noun:inanim:m:v_zna,ставити/verb:imperf:impr:s:2,станути/verb:perf:past:m,стати/verb:perf:past:m]"
        outputform="став[ставити/verb:imperf:impr:s:2,станути/verb:perf:past:m,стати/verb:perf:past:m]"
            >він <marker>став</marker> найбагатшим.</example>
    <example type="ambiguous"
        inputform="став[став/noun:inanim:m:v_naz,став/noun:inanim:m:v_zna,ставити/verb:imperf:impr:s:2,станути/verb:perf:past:m,стати/verb:perf:past:m]"
        outputform="став[ставити/verb:imperf:impr:s:2,станути/verb:perf:past:m,стати/verb:perf:past:m]"
            >він <marker>став</marker> плювати в озеро.</example>
    <example type="untouched">Тернопільський став</example>
    <example type="untouched">немилосердно смердить став</example>
    <example type="untouched">Окрім цього став замулювався</example>
    <example type="untouched">чоловік подався на став</example>
  </rule>


  <rule name="Рівня: не від «рівня»" id="rivnya_not_lemma_rivnya">
    <pattern>
      <marker>
        <token inflected="yes">рівня
          <exception scope="previous" postag_regexp="yes" postag=".*?:v_dav.*"/>
          <!-- TODO: лише для «за рівню» -->
          <exception scope="previous">за</exception>
          <exception scope="next" postag_regexp="yes" postag=".*?:v_dav.*"/>
        </token>
      </marker>
    </pattern>
    <disambig action="remove"><wd lemma="рівня"/></disambig>
    <example type="ambiguous"
        inputform="рівня[рівень/noun:inanim:m:v_rod,рівень/noun:inanim:m:v_zna:var,рівня/noun:anim:f:v_naz:xp1,рівня/noun:anim:m:v_naz:xp1,рівня/noun:inanim:f:v_naz:xp2]"
        outputform="рівня[рівень/noun:inanim:m:v_rod,рівень/noun:inanim:m:v_zna:var]"
            >досягти такого <marker>рівня</marker>.</example>
    <example type="untouched">і він не рівня брату</example>
    <example type="untouched">тут він рівня всім боярам</example>
    <example type="untouched">Не теперішнім рівня!</example>
    <example type="untouched">вважатимуть за рівню.</example>
    <!-- TODO:
    touched = до європейського рівня їм ще далеко
     <example type="untouched">Україна — рівня їм.</example>
     <example type="untouched">— рівня хіба що захцянкам арабських шейхів.</example>
    -->
  </rule>

  <rule name="Прав: іменник" id="prav_noun">
    <pattern>
      <marker>
        <token>прав</token>
      </marker>
    </pattern>
    <disambig action="remove" postag="verb.*"/>
    <example type="ambiguous"
        inputform="прав[право/noun:inanim:p:v_rod,прати/verb:imperf:past:m]"
        outputform="прав[право/noun:inanim:p:v_rod]"
            >щодо <marker>прав</marker> обвинувачених.</example>
    <!--
    <example type="untouched">він прав свої речі раз на тиждень</example>
    -->
  </rule>

  <rule name="Верховна Рада 1" id="verkhovna_rada1">
    <pattern>
      <token inflected="yes" regexp="yes">верховний|центральний</token>
      <marker>
        <token inflected="yes">рада</token>
      </marker>
    </pattern>
    <disambig action="filter"><match no="1">рада</match></disambig>
    <example type="ambiguous"
        inputform="Раду[Рада/noun:anim:f:v_zna:prop:fname,рад/noun:inanim:m:v_dav,рад/noun:inanim:m:v_mis,рада/noun:inanim:f:v_zna,радий/adj:f:v_zna]"
        outputform="Раду[рада/noun:inanim:f:v_zna]"
            >у Верховну <marker>Раду</marker>.</example>
    <example type="untouched">не міг дати собі ради.</example>
  </rule>

  <rule name="Верховна Рада 2" id="verkhovna_rada2">
    <pattern>
      <marker>
        <token inflected="yes">рада</token>
      </marker>
      <token regexp="yes">безпеки|національної|ЄС|Європи|Євросоюзу|міністрів|керівників|суддів|[XVIХІ]+</token>
    </pattern>
    <disambig action="filter"><match no="1">рада</match></disambig>
    <example type="ambiguous"
        inputform="Раду[Рада/noun:anim:f:v_zna:prop:fname,рад/noun:inanim:m:v_dav,рад/noun:inanim:m:v_mis,рада/noun:inanim:f:v_zna,радий/adj:f:v_zna]"
        outputform="Раду[рада/noun:inanim:f:v_zna]"
            >у <marker>Раду</marker> Міністрів.</example>
    <example type="untouched">не міг дати собі ради.</example>
  </rule>

  <rule name="ч. - чайна" id="ch_chaina">
    <pattern>
      <marker>
        <token>ч.</token>
      </marker>
      <token regexp="yes">л\.?|ложк.*</token>
    </pattern>
    <disambig action="filter" postag="adj.*"></disambig>
    <example type="ambiguous"
        inputform="ч.[ч./adj:f:v_dav:nv:abbr,ч./adj:f:v_mis:nv:abbr,ч./adj:f:v_naz:nv:abbr,ч./adj:f:v_oru:nv:abbr,ч./adj:f:v_rod:nv:abbr,ч./adj:f:v_zna:nv:abbr,ч./adj:p:v_dav:nv:abbr,ч./adj:p:v_mis:nv:abbr,ч./adj:p:v_naz:nv:abbr,ч./adj:p:v_oru:nv:abbr,ч./adj:p:v_rod:nv:abbr,ч./adj:p:v_zna:nv:abbr,ч./noun:inanim:f:v_dav:nv:abbr,ч./noun:inanim:f:v_mis:nv:abbr,ч./noun:inanim:f:v_naz:nv:abbr,ч./noun:inanim:f:v_oru:nv:abbr,ч./noun:inanim:f:v_rod:nv:abbr,ч./noun:inanim:f:v_zna:nv:abbr,ч./noun:inanim:p:v_dav:nv:abbr,ч./noun:inanim:p:v_mis:nv:abbr,ч./noun:inanim:p:v_naz:nv:abbr,ч./noun:inanim:p:v_oru:nv:abbr,ч./noun:inanim:p:v_rod:nv:abbr,ч./noun:inanim:p:v_zna:nv:abbr]"
        outputform="ч.[ч./adj:f:v_dav:nv:abbr,ч./adj:f:v_mis:nv:abbr,ч./adj:f:v_naz:nv:abbr,ч./adj:f:v_oru:nv:abbr,ч./adj:f:v_rod:nv:abbr,ч./adj:f:v_zna:nv:abbr,ч./adj:p:v_dav:nv:abbr,ч./adj:p:v_mis:nv:abbr,ч./adj:p:v_naz:nv:abbr,ч./adj:p:v_oru:nv:abbr,ч./adj:p:v_rod:nv:abbr,ч./adj:p:v_zna:nv:abbr]"
            >по 3 <marker>ч.</marker> л.</example>
    <example type="untouched">т. 2 ч. 1</example>
  </rule>

  <rule name="ч. - частина" id="ch_chastyna">
    <pattern>
      <marker>
        <token>ч.</token>
      </marker>
      <token postag="number"/>
    </pattern>
    <disambig action="filter" postag="noun:inanim:f.*"></disambig>
    <example type="ambiguous"
        inputform="ч.[ч./adj:f:v_dav:nv:abbr,ч./adj:f:v_mis:nv:abbr,ч./adj:f:v_naz:nv:abbr,ч./adj:f:v_oru:nv:abbr,ч./adj:f:v_rod:nv:abbr,ч./adj:f:v_zna:nv:abbr,ч./adj:p:v_dav:nv:abbr,ч./adj:p:v_mis:nv:abbr,ч./adj:p:v_naz:nv:abbr,ч./adj:p:v_oru:nv:abbr,ч./adj:p:v_rod:nv:abbr,ч./adj:p:v_zna:nv:abbr,ч./noun:inanim:f:v_dav:nv:abbr,ч./noun:inanim:f:v_mis:nv:abbr,ч./noun:inanim:f:v_naz:nv:abbr,ч./noun:inanim:f:v_oru:nv:abbr,ч./noun:inanim:f:v_rod:nv:abbr,ч./noun:inanim:f:v_zna:nv:abbr,ч./noun:inanim:p:v_dav:nv:abbr,ч./noun:inanim:p:v_mis:nv:abbr,ч./noun:inanim:p:v_naz:nv:abbr,ч./noun:inanim:p:v_oru:nv:abbr,ч./noun:inanim:p:v_rod:nv:abbr,ч./noun:inanim:p:v_zna:nv:abbr]"
        outputform="ч.[ч./noun:inanim:f:v_dav:nv:abbr,ч./noun:inanim:f:v_mis:nv:abbr,ч./noun:inanim:f:v_naz:nv:abbr,ч./noun:inanim:f:v_oru:nv:abbr,ч./noun:inanim:f:v_rod:nv:abbr,ч./noun:inanim:f:v_zna:nv:abbr]"
            >ст. 3 <marker>ч.</marker> 7 проголошує</example>
    <example type="untouched">2 ч. л.</example>
  </rule>

  <rule name="Накладний платіж" id="nakladnyi_platizh">
    <pattern>
      <marker>
        <token inflected="yes">накладний</token>
      </marker>
      <token inflected="yes" regexp="yes">плата|платіж</token>
    </pattern>
    <disambig action="filter" postag="adj.*?:xp2.*"></disambig>
    <example type="ambiguous"
        inputform="накладним[накладна/noun:inanim:p:v_dav,накладний/adj:m:v_oru:compb:bad:xp2,накладний/adj:m:v_oru:xp1,накладний/adj:n:v_oru:compb:bad:xp2,накладний/adj:n:v_oru:xp1,накладний/adj:p:v_dav:compb:bad:xp2,накладний/adj:p:v_dav:xp1]"
        outputform="накладним[накладний/adj:m:v_oru:compb:bad:xp2,накладний/adj:n:v_oru:compb:bad:xp2,накладний/adj:p:v_dav:compb:bad:xp2]"
            >йде <marker>накладним</marker> платежем</example>
    <example type="untouched">накладні нігті</example>
  </rule>

  <rule name="число + коп - копійок (не поліціянт)" id="num_kop">
    <pattern>
      <token regexp="yes">[0-9, –-]+</token>
      <marker>
        <token>коп</token>
      </marker>
    </pattern>
    <disambig action="remove" postag="noun:anim:m:v_naz:slang"></disambig>
    <example type="ambiguous"
        inputform="коп[&lt;/S&gt;,коп/noun:anim:m:v_naz:slang]"
        outputform="коп[&lt;/S&gt;]"
            >ціною в 12,5 <marker>коп</marker></example>
    <example type="untouched">солідний коп</example>
  </rule>

  <rule name="Відокремлені форманти з дефісом" id="words_cut_with_hyphen">
    <pattern>
      <token regexp="yes">[а-яіїєґ']+-
        <exception scope="next" regexp="yes">і|й|та|або|чи</exception>
      </token>
    </pattern>
    <disambig action="remove" postag="noninfl"></disambig>
    <example type="ambiguous"
        inputform="макро-[макро-/noninfl]"
        outputform="макро-[макро-]"
            >такого <marker>макро-</marker> рівня</example>
    <example type="ambiguous"
        inputform="радіо-[радіо-/noninfl]"
        outputform="радіо-[радіо-]"
            ><marker>радіо-</marker> засоби</example>
    <example type="untouched">аудіо- та відеопродукцією</example>
    <example type="untouched">на макро- і мікрорівнях</example>
  </rule>

  <rule name="Поколінні - іменник" id="pokolinni_noun">
    <pattern>
      <token postag_regexp="yes" postag="adj:n:v_(dav|mis).*"/>
      <marker>
        <token>поколінні</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun:inanim:n.*"></disambig>
    <example type="ambiguous"
        inputform="поколінні[поколінний/adj:p:v_kly,поколінний/adj:p:v_naz,поколінний/adj:p:v_zna:rinanim,покоління/noun:inanim:n:v_mis]"
        outputform="поколінні[покоління/noun:inanim:n:v_mis]"
            >у моєму <marker>поколінні</marker>.</example>
    <example type="untouched">такі поколінні розписи</example>
  </rule>


  <rule name="Найму - іменник" id="naimu_noun">
    <pattern>
      <token postag_regexp="yes" postag="prep.*"/>
      <marker>
        <token>найму</token>
      </marker>
    </pattern>
    <disambig action="filter" postag="noun:inanim:m.*"></disambig>
    <example type="ambiguous"
        inputform="найму[найм/noun:inanim:m:v_dav:bad,найм/noun:inanim:m:v_mis:bad,найм/noun:inanim:m:v_rod:bad,найняти/verb:perf:futr:s:1]"
        outputform="найму[найм/noun:inanim:m:v_dav:bad,найм/noun:inanim:m:v_mis:bad,найм/noun:inanim:m:v_rod:bad]"
            >контора з <marker>найму</marker>.</example>
    <example type="untouched">в контору найму працівників</example>
  </rule>

  <rule name="Нон грата - невідм." id="grata_noninfl_1">
    <pattern>
      <marker>
        <token>нон</token>
      </marker>
      <token regexp="yes">[гґ]рата|стоп</token>
    </pattern>
    <disambig action="filter" postag="noninfl"></disambig>
    <example type="ambiguous"
        inputform="нон[нон/noninfl,нона/noun:inanim:p:v_rod]"
        outputform="нон[нон/noninfl]"
            >персона <marker>нон</marker> грата.</example>
    <example type="untouched">зіграв декілька нон</example>
  </rule>

  <rule name="Нон ґрата - невідм." id="grata_noninfl_2">
    <pattern>
      <token>нон</token>
      <marker>
        <token>ґрата</token>
      </marker>
    </pattern>
    <disambig action="replace" postag="noninfl"></disambig>
    <example type="ambiguous"
        inputform="ґрата[ґрата/noun:inanim:f:v_naz]"
        outputform="ґрата[ґрата/noninfl]"
            >персона нон <marker>ґрата</marker>.</example>
    <example type="untouched">велика ґрата</example>
  </rule>

  <rule name="І т.д." id="i_t_d">
    <pattern>
      <token regexp="yes">[ій]</token>
      <token>т.</token>
      <marker>
        <token>д.</token>
      </marker>
    </pattern>
    <disambig action="replace" postag="adv:abbr"></disambig>
    <example type="ambiguous"
        inputform="д.[&lt;/S&gt;]"
        outputform="д.[&lt;/S&gt;,д./adv:abbr]"
            >і т.<marker>д.</marker></example>
    <example type="untouched">д.м.н.</example>
  </rule>


  <!-- TOOD: redo when dictionary updated
  <rule name="Числівник, як іменник годин 1" id="NUMR_AS_HOUR_NOUN1">
    <pattern>
      <marker>
      <token regexp="yes" inflected="yes" postag_regexp="yes" postag="adj:f:v_(naz|rod|zna|mis).*">(перший|другий|третій|четвертий|п'ятий|шостий|сьомий|восьмий|дев'ятий|десятий|одинадцятий|дванадцятий)</token>
      </marker>
      <token regexp="yes">(ранку|дня|вечора|ночі|пополудні)</token>
    </pattern>
    <disambig><match no="1" postag_regexp="yes" postag="adj:(f:v_...)(:r(in)?anim)?.*" postag_replace="noun:inanim:$1"/></disambig>
    <example type="ambiguous" 
        inputform="першу[перший/adj:f:v_zna:compb:&amp;numr]"
        outputform="першу[перший/noun:inanim:f:v_zna]">На <marker>першу</marker> дня.</example>
    <example type="ambiguous" 
        inputform="шостій[шостий/adj:f:v_mis:compb:&amp;&amp;numr]"
        outputform="шостій[шостий/noun:inanim:f:v_mis]">О <marker>шостій</marker> ранку.</example>
    <example type="untouched">На першу сходинку.</example>
  </rule>

  <rule name="Числівник, як іменник годин 2" id="NUMR_AS_HOUR_NOUN2">
    <pattern>
      <token>о</token>
      <marker>
      <token regexp="yes">(першій|другій|третій|четвертій|п'ятій|шостій|сьомій|восьмій|дев'ятій|десятій|одинадцятій|дванадцятій)</token>
      </marker>
      <token><exception>годині</exception></token>
    </pattern>
    <disambig><match no="1" postag_regexp="yes" postag="adj:(f:v_...)(:r(in)?anim)?.*" postag_replace="noun:inanim:f:v_mis"/></disambig>
    <example type="ambiguous" 
        inputform="першій[перший/adj:f:v_dav:compb:&amp;_numr,перший/adj:f:v_mis:compb:&amp;&amp;numr]"
        outputform="першій[перший/noun:inanim:f:v_mis,перший/noun:inanim:f:v_mis]">О <marker>першій</marker> все засинає.</example>
    <example type="untouched">На першій сходинці.</example>
    <example type="untouched">О першій годині.</example>
  </rule>
  -->

  <!--
  <rule name="Розмовні форми інфінітиву (лишити)" id="VERB_INF_COLL_LEAVE">
    <pattern>
      <token></token>
      <marker>
          <and>
      <token postag_regexp="yes" postag="verb.*:inf.*:coll.*"/>
      <token negate_pos="yes" postag_regexp="yes" postag="verb.*:inf.*:coll.*"/>
          </and>
      </marker>
    </pattern>
    <disambig postag="verb.*:inf.*:coll.*"/>
    <example type="ambiguous" 
        inputform="довірять[довіряти/verb:imperf:inf:coll,довірити verb:perf:futr:p:3]" 
        outputform="довірять[довіряти/verb:imperf:inf:coll]">воно повинно <marker>довірять</marker>.</example>
    <example type="untouched">Він поїхав гулять.</example>
    <example type="untouched">Дурити не гарно.</example>
  </rule>

  <rule name="Розмовні форми інфінітиву (прибрати)" id="VERB_INF_COLL_REMOVE">
    <pattern>
          <and>
      <token postag_regexp="yes" postag="verb.*:inf.*:coll.*"/>
      <token negate_pos="yes" postag_regexp="yes" postag="verb.*:inf.*:coll.*"/>
          </and>
    </pattern>
    <disambig action="remove" postag="verb.*:inf.*:coll.*"/>
    <example type="ambiguous" 
        inputform="бурить[бурити/verb:imperf:inf:coll,бурити/verb:imperf:pres:s:3]" 
        outputform="бурить[бурити/verb:imperf:pres:s:3]">Він <marker>бурить</marker>.</example>
    <example type="untouched">Він поїхав гулять.</example>
    <example type="untouched">Дурити не гарно.</example>
  </rule>
  -->
</rules>
